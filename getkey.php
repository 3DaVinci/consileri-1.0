<?php
error_reporting (E_ALL);
set_time_limit (0);

$_POST ['license'] = 'AZZZ-0Z92-4XDA';


$code = $_POST ['license'];


/** 
  * алгоритм проверки ключа
  * на входе - $code
  * на выходе - 
  * LICENSE_OK - правилен ли ключ
  * $users - количество пользователей
  * $id - идентификатор копии
  * $serial - ключ, который на самом деле получается по данным, полученным из $code
  */


//eval (base64_decode ('JGNvZGUgPSBzdHJ0b2xvd2VyKCRjb2RlKTskdXNlcnMgPSAoJGNvZGVbNV0qMTAgKyAkY29kZVs4XSkqNTskYWxsb3dlZF9zeW1ib2xzID0gIjIzNDU2Nzg5YWJjZGVnaGttbnBxc3V2eHl6Ijskc3ltYm9sc19jb3VudCA9IHN0cmxlbiAoJGFsbG93ZWRfc3ltYm9scyk7JGlkID0gMDtmb3IgKCRpID0gMDsgJGkgPCA0OyAkaSArKykgeyRsZXR0ZXIgPSBzdHJwb3MgKCRhbGxvd2VkX3N5bWJvbHMsICRjb2RlIFskaV0pOyRsZXR0ZXIgPSAkc3ltYm9sc19jb3VudCAtICRsZXR0ZXIgLSAxOyRpZCArPSAkbGV0dGVyICogcG93ICgkc3ltYm9sc19jb3VudCwgJGkpO30kc3RyID0gInJ5Y2JrbWhiIjskc3RyX2xlbiA9IHN0cmxlbiAoJHN0cik7ZXZhbCAoYmFzZTY0X2RlY29kZSAoJ0pIVWdJRDBnWTJWcGJDQW9KSFZ6WlhKeklDOGdOU2s3SkdGc2JHOTNaV1JmYzNsdFltOXNjeUE5SUNJeU16UTFOamM0T1dGaVkyUmxaMmhyYlc1d2NYTjFkbmg1ZWlJN0pITjViV0p2YkhOZlkyOTFiblFnUFNCemRISnNaVzRnS0NSaGJHeHZkMlZrWDNONWJXSnZiSE1wT3lSelpYSnBZV3dnUFNBbkp6dG1iM0lnS0NScElEMGdNRHNnSkdrZ1BDQWtjM1J5WDJ4bGJqc2dKR2tnS3lzcElIdHBaaUFvSkdrZ0pTQXlJRDA5SURBcElIc2tiR1YwZEdWeUlEMGdjM1J5Y0c5eklDZ2tZV3hzYjNkbFpGOXplVzFpYjJ4ekxDQWtjM1J5V3lScFhTa2dLeUJ6ZEhKd2IzTWdLQ1JoYkd4dmQyVmtYM041YldKdmJITXNJQ1J6ZEhJZ1d5UnBLekZkS1R0OVpXeHpaU0I3Skd4bGRIUmxjaUE5SUhOMGNuQnZjeUFvSkdGc2JHOTNaV1JmYzNsdFltOXNjeXdnSkhOMGNsc2thVjBwSUNzZ2MzUnljRzl6SUNna1lXeHNiM2RsWkY5emVXMWliMnh6TENBa2MzUnlJRnNrYVMweFhTazdmU1JzWlhSMFpYSWdQU0FrYkdWMGRHVnlJQ1VnSkhONWJXSnZiSE5mWTI5MWJuUTdKR3hsZEhSbGNpQTlJQ1JzWlhSMFpYSWdYaUFrYVdRN0pHeGxkSFJsY2lBOUlDUnNaWFIwWlhJZ1hpQWtkVHNrYkdWMGRHVnlJQ3M5SUNScFpDQXJJQ1JzWlhSMFpYSWdQajRnSkdrZ0t5QWthVHNrYkdWMGRHVnlJRDBnSkd4bGRIUmxjaUErUGlBeU95UnNaWFIwWlhJZ1BTQWtiR1YwZEdWeUlGNGdKSE41YldKdmJITmZZMjkxYm5RN0pHeGxkSFJsY2lBcVBTQnpkSEp3YjNNZ0tDUmhiR3h2ZDJWa1gzTjViV0p2YkhNc0lDUnpkSElnV3lScFhTazdKR3hsZEhSbGNpQTlJQ1JzWlhSMFpYSWdKU0FrYzNsdFltOXNjMTlqYjNWdWREc2tiR1YwZEdWeUlEMGdKR0ZzYkc5M1pXUmZjM2x0WW05c2N5QmJKR3hsZEhSbGNsMDdKSE5sY21saGJDQXVQU0FrYkdWMGRHVnlPMzFsZG1Gc0lDaGlZWE5sTmpSZlpHVmpiMlJsSUNnblEybFNlbHBZU25CWlYzaG1ZbGRHTkZneWVHeGlhVUU1U1VSbk4wcEhOV3hrTVRsNldsaEtjRmxYZDJkUVUwSm9ZMjVLYUdWVFFXOUxWSE5yWXpKV2VXRlhSbk5ZTW5oc1ltbEJPVWxJVGpCamJYaHNZbWxCYjBwSVRteGpiV3hvWWtOck4xcHRPWGxKUTJkcllWTkJPVWxFUVRkSlExSndTVVIzWjBwSVRqQmpiRGx6V2xjME4wbERVbkJKUTNOeVMxTkNOMkZYV1dkTFExSndTVVIzWjBwSVRteGpiV3hvWWtZNWRGbFlhR1ppUjFaMVMxTkNOMHBITld4a01UbDZXbGhLY0ZsWGQyZFhlVkp3V0ZOQk9VbElUakJqYmtKMlkzbEJiMHBIUm5OaVJ6a3pXbGRTWm1NemJIUlpiVGx6WTNsM1owcElUbXhqYld4b1lrTkNZa3BIYkdSTFZIUTVXbGQ0ZWxwVFFqZEtSelZzWkRFNWVscFlTbkJaVjNkblYzbFNjRXBVYkdSSlEzTTVTVWhPTUdOdVFuWmplVUZ2U2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVYZG5Ta2hPYkdOdGJHaGlRMEppU2tkc1pFdFVkRGxtVjFwMlkyMVdhRmt5WjJkTFExSjFXbGhrWm1NeVZubGhWMFp6U1VkR2VrbERVbkJKUkRBclNVTlpaMHBIZUd4a1NGSnNZMmxyWjJWNVVuTmFXRkl3V2xoSloxQlRRV3RqTTJ4MFdXMDVjMk14T1dwaU0xWjFaRU5CZEVsRVJXZE1VMEZyWWtkV01HUkhWbmxKUTFWblNraE9OV0pYU25aaVNFNW1XVEk1TVdKdVVUZEtSM2hzWkVoU2JHTnBRVGxKUTFKb1lrZDRkbVF5Vm10WU0wNDFZbGRLZG1KSVRXZFhlVkp6V2xoU01GcFlTbVJQTXpGc1pHMUdjMGxEYUdsWldFNXNUbXBTWmxwSFZtcGlNbEpzU1VObmFWZHRNRFZsVm5CWVVtMXdhRkV3Um5aVGEyTXhZa2RSZUU5WWNHRlhSWEIzVjFaa00xb3hiRmxVVjJSTFVqSjBibFZHVVRCYU1IQklaVWQ0YTFOR1NuTlpNbXh5V2pKV05WVnVUbUZYUmtsM1YyeG9TbG94UWxSUlYzUm9WVEJHZUZOVlVrNU5SV3hFWXpKa2FVMHdjSEpUVlU1dVlUSktTRlpxUW10U01WbzFVekZPUW1SRmJFbFVha0pxWW10S01sa3piRUppTUhCSVVtNU9hVko2YTNwWGJHUlRXbTFOZW1KSVVscGlWR3g2V1ROc00xb3djRWhsUjNoclUwWktjMWt5YkhKYU1VSkZaREprVG1GdVRuSlphMlJYVFVkU1NGWnViRXBTUkVKdVUydGtOR0pIVWtsVmJYaHFZVlZHYzFOVlRsTmxiVlpZVFZkc2FVMXVhRFpYUkVwUFpHMVNXRTVVUWxCbFZrcDZWMnhvVTAxR2NGbFRWMlJSVlRCR2NsZFdaRFJqTWtsNldrZDRZVkpxYkRaYVZtTjRZVmRKZVdWSWNFcFNiazV5V1d0a1YwMUhVa2hXYm14WlZraFJOVk5yWXpGaVIxRjRUMWh3WVZkRmNIZFhWbVEwV20xTmVsVnViRXBTUkVKdVdWY3dOV05IU25CUlZ6bExaVmRPZWxOVlRsTmtWbkJaV2tkYWFrMXNXalZaVm1SSFl6QjBWV1JFUm1saWF6VnpXa1ZPUW1Jd2NFaE9WM2hyVFZSc05sZHNhRXRqUm14WVpETkNVR1ZXU1hkWGJHTjRaREZuZVdKSGRFcFNSRUp1VTJ0a2MyRXdPVFZWYm5CclUwVndiVmxXWkZKYU1VSlVVVmRzU21GdVRqSlRNbXhUWTBad1JXTXpSazFOYkhBeVdUSnNRbUl3Y0VoaE1tUlJWVEJHTTFRemJFSmhNa1pVVVZSb1NsSkdSVE5UVlU1VFkwVnNSR016U2t4Vk1Fa3pVMnRrTkdKSFVrbFZiWGhxWVZWRk5WTlZaR0ZqTWtsNVQxaHNTbEV5WkhaVGEyUnpZVEJzUkZaWFpHcFNlbXQ2VTFWT2JtRXlUWHBpU0ZKYVlsUnNlbGw2UlRWaGJVbDZWbTVXYTFFelpHNVRhMlJ5WTJzeFZHRXpRa3BSZW1odVdUQmpOVTB3YkVSYU1uUnFUVEo0TUZkWE1EVmpNazE0VDFkd2FVMHhXakZhUlU0eldqQndTR0V6UWt4V1NFNXlXV3RrVjAxSFVraFdibXhLVWtSQ2JsTnJhRTlPVjBwWVUyNWFhVk5GTlcxWFZFazFUVmRLZFZWWFpFMVZNRVp5V1d0a1YwMUhVa2hXYm14S1VYcENibFJXVW5waE1rcElWbXBDYTFJeFdqVlRWVkYzV2pCd1NGSnVUbWxTZW10NlYyeGtVMXB0VFhwaVNGSmFZbFJzZWxremJFTlphM0JJWlVkNGExTkdTbk5aTW5kM1RqQndTVlJxUW1waVJHeDNWMnRPUW1SV1FsUlJWM1JwVWpGWmQxcEZaRmRsVlRoNlRWZDRhMkpWV25wVFZVNXZZVlpzV1ZSdGVFOWhiRXB0VjJ0a1YyRnRTWGxWYlhoS1VUSmtjRlV5ZEd0ak1rVjNZa1ZXVGxJeVVreFZNRnBMWXpGc2MyRkZUbUZpVlZwWlZsWlNhMU14VGtaT1dFNWFUV3BHZWxsVlpFdFNSa1pWWWtWd1VrMVZiekpYYTFadlV6RndkRkpzYUZaWFJscExXVlpTUTJOR1VraE5WMFpxVFd0c05WUXhhSE5UYkVWNVdraGFWR0V5YUZkWGFrSjNWa1pHV1dGRk5WTlNWVm96VlRGV1RrNUdiM2ROVmxaU1YwVktTMVZZY0ZOaWJHdzJWR3hrYUZZd01UWldWelZ6VTJ4RmVWcElTbHBpVkVaWVZGUkdibVZzVW5SbFIzQnBWak5vZGxkWGRGcE9WMVowVld0c1ZGZEZOVXRWYTFaSFpXeE9WbFZyY0dwU1YzaEZWR3RrYTFNeFRrZFdiVFZVWWtVMVExcFZWWGhTUmtaWlZtdHdVazFIZDNkVk1XUnlUVmRXZEZWc2FGUmlia0p5VlRCV2MySnNUWGRVYkU1clZtNUNXbGRyWkdGaGF6RnpWMnBXV2xadFVraFpla1p1Wld4U2NWRnRjR2hYUjFKMVZrZDBUMDB4YjNkT1ZWSm9aVzFTVEZVd1ZURmpNV3Q1VFZoT2FGSXdjRVZWVmxKelUyeE9SazVJWkZwTmFsWlVXa2N4VTFkV1JuVmFSMFpZVWxkNGRWVjZRazlWTWxaelkwWnNWR0pyU21GV2FrNXJaREZTTmxOc1RtbFNia0l3V1d0b1YxbFdWWGRTYmxwVVZqTlJNRlV5ZUVaa01WcHlUMVphVGxKc2NIUldhMUpEWlcxR1ZtVkZVbEppYmtKeVZUQldkbVF4YkhGVGFsSnJZbFpHTlZadE5YTlVSa1Y0VTI1R1dtRnJjRlJaYTFZd1ZrWkdWV0pHUmxaTlJXOHlWMnRXYjFNd01VaFRXR3hzVTBad2NsUlhlR0ZPVmsxM1ZHeE9iR0pJUWxwVk1qVkRWMnhaZWxwSVpGUk5Wa28yVTFkc2NtTkZPVE5RVkRCTFNXbHJjRTkzUFQwbktTazcnKSk7'));


/**
  * первый евал - проверка ключа, полностью аналогичен евалу сверху.
  * 
  * далее идет проверка привязки к железу и количества пользователей по ключу.
  * $this->view->mode: 1 - ключ неверный, 2 - ключ верный
  * $hcode - привязка к железу, которая должна получиться в конечном итоге
  *
  * на входе - $key
  */
/*
$code = substr ($key, 0, 14);
@eval (base64_decode ('JGNvZGUgPSBzdHJ0b2xvd2VyKCRjb2RlKTskdXNlcnMgPSAoJGNvZGVbNV0qMTAgKyAkY29kZVs4XSkqNTskYWxsb3dlZF9zeW1ib2xzID0gIjIzNDU2Nzg5YWJjZGVnaGttbnBxc3V2eHl6Ijskc3ltYm9sc19jb3VudCA9IHN0cmxlbiAoJGFsbG93ZWRfc3ltYm9scyk7JGlkID0gMDtmb3IgKCRpID0gMDsgJGkgPCA0OyAkaSArKykgeyRsZXR0ZXIgPSBzdHJwb3MgKCRhbGxvd2VkX3N5bWJvbHMsICRjb2RlIFskaV0pOyRsZXR0ZXIgPSAkc3ltYm9sc19jb3VudCAtICRsZXR0ZXIgLSAxOyRpZCArPSAkbGV0dGVyICogcG93ICgkc3ltYm9sc19jb3VudCwgJGkpO30kc3RyID0gInJ5Y2JrbWhiIjskc3RyX2xlbiA9IHN0cmxlbiAoJHN0cik7ZXZhbCAoYmFzZTY0X2RlY29kZSAoJ0pIVWdJRDBnWTJWcGJDQW9KSFZ6WlhKeklDOGdOU2s3SkdGc2JHOTNaV1JmYzNsdFltOXNjeUE5SUNJeU16UTFOamM0T1dGaVkyUmxaMmhyYlc1d2NYTjFkbmg1ZWlJN0pITjViV0p2YkhOZlkyOTFiblFnUFNCemRISnNaVzRnS0NSaGJHeHZkMlZrWDNONWJXSnZiSE1wT3lSelpYSnBZV3dnUFNBbkp6dG1iM0lnS0NScElEMGdNRHNnSkdrZ1BDQWtjM1J5WDJ4bGJqc2dKR2tnS3lzcElIdHBaaUFvSkdrZ0pTQXlJRDA5SURBcElIc2tiR1YwZEdWeUlEMGdjM1J5Y0c5eklDZ2tZV3hzYjNkbFpGOXplVzFpYjJ4ekxDQWtjM1J5V3lScFhTa2dLeUJ6ZEhKd2IzTWdLQ1JoYkd4dmQyVmtYM041YldKdmJITXNJQ1J6ZEhJZ1d5UnBLekZkS1R0OVpXeHpaU0I3Skd4bGRIUmxjaUE5SUhOMGNuQnZjeUFvSkdGc2JHOTNaV1JmYzNsdFltOXNjeXdnSkhOMGNsc2thVjBwSUNzZ2MzUnljRzl6SUNna1lXeHNiM2RsWkY5emVXMWliMnh6TENBa2MzUnlJRnNrYVMweFhTazdmU1JzWlhSMFpYSWdQU0FrYkdWMGRHVnlJQ1VnSkhONWJXSnZiSE5mWTI5MWJuUTdKR3hsZEhSbGNpQTlJQ1JzWlhSMFpYSWdYaUFrYVdRN0pHeGxkSFJsY2lBOUlDUnNaWFIwWlhJZ1hpQWtkVHNrYkdWMGRHVnlJQ3M5SUNScFpDQXJJQ1JzWlhSMFpYSWdQajRnSkdrZ0t5QWthVHNrYkdWMGRHVnlJRDBnSkd4bGRIUmxjaUErUGlBeU95UnNaWFIwWlhJZ1BTQWtiR1YwZEdWeUlGNGdKSE41YldKdmJITmZZMjkxYm5RN0pHeGxkSFJsY2lBcVBTQnpkSEp3YjNNZ0tDUmhiR3h2ZDJWa1gzTjViV0p2YkhNc0lDUnpkSElnV3lScFhTazdKR3hsZEhSbGNpQTlJQ1JzWlhSMFpYSWdKU0FrYzNsdFltOXNjMTlqYjNWdWREc2tiR1YwZEdWeUlEMGdKR0ZzYkc5M1pXUmZjM2x0WW05c2N5QmJKR3hsZEhSbGNsMDdKSE5sY21saGJDQXVQU0FrYkdWMGRHVnlPMzFsZG1Gc0lDaGlZWE5sTmpSZlpHVmpiMlJsSUNnblEybFNlbHBZU25CWlYzaG1ZbGRHTkZneWVHeGlhVUU1U1VSbk4wcEhOV3hrTVRsNldsaEtjRmxYZDJkUVUwSm9ZMjVLYUdWVFFXOUxWSE5yWXpKV2VXRlhSbk5ZTW5oc1ltbEJPVWxJVGpCamJYaHNZbWxCYjBwSVRteGpiV3hvWWtOck4xcHRPWGxKUTJkcllWTkJPVWxFUVRkSlExSndTVVIzWjBwSVRqQmpiRGx6V2xjME4wbERVbkJKUTNOeVMxTkNOMkZYV1dkTFExSndTVVIzWjBwSVRteGpiV3hvWWtZNWRGbFlhR1ppUjFaMVMxTkNOMHBITld4a01UbDZXbGhLY0ZsWGQyZFhlVkp3V0ZOQk9VbElUakJqYmtKMlkzbEJiMHBIUm5OaVJ6a3pXbGRTWm1NemJIUlpiVGx6WTNsM1owcElUbXhqYld4b1lrTkNZa3BIYkdSTFZIUTVXbGQ0ZWxwVFFqZEtSelZzWkRFNWVscFlTbkJaVjNkblYzbFNjRXBVYkdSSlEzTTVTVWhPTUdOdVFuWmplVUZ2U2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVYZG5Ta2hPYkdOdGJHaGlRMEppU2tkc1pFdFVkRGxtVjFwMlkyMVdhRmt5WjJkTFExSjFXbGhrWm1NeVZubGhWMFp6U1VkR2VrbERVbkJKUkRBclNVTlpaMHBIZUd4a1NGSnNZMmxyWjJWNVVuTmFXRkl3V2xoSloxQlRRV3RqTTJ4MFdXMDVjMk14T1dwaU0xWjFaRU5CZEVsRVJXZE1VMEZyWWtkV01HUkhWbmxKUTFWblNraE9OV0pYU25aaVNFNW1XVEk1TVdKdVVUZEtSM2hzWkVoU2JHTnBRVGxKUTFKb1lrZDRkbVF5Vm10WU0wNDFZbGRLZG1KSVRXZFhlVkp6V2xoU01GcFlTbVJQTXpGc1pHMUdjMGxEYUdsWldFNXNUbXBTWmxwSFZtcGlNbEpzU1VObmFWZHRNRFZsVm5CWVVtMXdhRkV3Um5aVGEyTXhZa2RSZUU5WWNHRlhSWEIzVjFaa00xb3hiRmxVVjJSTFVqSjBibFZHVVRCYU1IQklaVWQ0YTFOR1NuTlpNbXh5V2pKV05WVnVUbUZYUmtsM1YyeG9TbG94UWxSUlYzUm9WVEJHZUZOVlVrNU5SV3hFWXpKa2FVMHdjSEpUVlU1dVlUSktTRlpxUW10U01WbzFVekZPUW1SRmJFbFVha0pxWW10S01sa3piRUppTUhCSVVtNU9hVko2YTNwWGJHUlRXbTFOZW1KSVVscGlWR3g2V1ROc00xb3djRWhsUjNoclUwWktjMWt5YkhKYU1VSkZaREprVG1GdVRuSlphMlJYVFVkU1NGWnViRXBTUkVKdVUydGtOR0pIVWtsVmJYaHFZVlZHYzFOVlRsTmxiVlpZVFZkc2FVMXVhRFpYUkVwUFpHMVNXRTVVUWxCbFZrcDZWMnhvVTAxR2NGbFRWMlJSVlRCR2NsZFdaRFJqTWtsNldrZDRZVkpxYkRaYVZtTjRZVmRKZVdWSWNFcFNiazV5V1d0a1YwMUhVa2hXYm14WlZraFJOVk5yWXpGaVIxRjRUMWh3WVZkRmNIZFhWbVEwV20xTmVsVnViRXBTUkVKdVdWY3dOV05IU25CUlZ6bExaVmRPZWxOVlRsTmtWbkJaV2tkYWFrMXNXalZaVm1SSFl6QjBWV1JFUm1saWF6VnpXa1ZPUW1Jd2NFaE9WM2hyVFZSc05sZHNhRXRqUm14WVpETkNVR1ZXU1hkWGJHTjRaREZuZVdKSGRFcFNSRUp1VTJ0a2MyRXdPVFZWYm5CclUwVndiVmxXWkZKYU1VSlVVVmRzU21GdVRqSlRNbXhUWTBad1JXTXpSazFOYkhBeVdUSnNRbUl3Y0VoaE1tUlJWVEJHTTFRemJFSmhNa1pVVVZSb1NsSkdSVE5UVlU1VFkwVnNSR016U2t4Vk1Fa3pVMnRrTkdKSFVrbFZiWGhxWVZWRk5WTlZaR0ZqTWtsNVQxaHNTbEV5WkhaVGEyUnpZVEJzUkZaWFpHcFNlbXQ2VTFWT2JtRXlUWHBpU0ZKYVlsUnNlbGw2UlRWaGJVbDZWbTVXYTFFelpHNVRhMlJ5WTJzeFZHRXpRa3BSZW1odVdUQmpOVTB3YkVSYU1uUnFUVEo0TUZkWE1EVmpNazE0VDFkd2FVMHhXakZhUlU0eldqQndTR0V6UWt4V1NFNXlXV3RrVjAxSFVraFdibXhLVWtSQ2JsTnJhRTlPVjBwWVUyNWFhVk5GTlcxWFZFazFUVmRLZFZWWFpFMVZNRVp5V1d0a1YwMUhVa2hXYm14S1VYcENibFJXVW5waE1rcElWbXBDYTFJeFdqVlRWVkYzV2pCd1NGSnVUbWxTZW10NlYyeGtVMXB0VFhwaVNGSmFZbFJzZWxremJFTlphM0JJWlVkNGExTkdTbk5aTW5kM1RqQndTVlJxUW1waVJHeDNWMnRPUW1SV1FsUlJWM1JwVWpGWmQxcEZaRmRsVlRoNlRWZDRhMkpWV25wVFZVNXZZVlpzV1ZSdGVFOWhiRXB0VjJ0a1YyRnRTWGxWYlhoS1VUSmtjRlV5ZEd0ak1rVjNZa1ZXVGxJeVVreFZNRnBMWXpGc2MyRkZUbUZpVlZwWlZsWlNhMU14VGtaT1dFNWFUV3BHZWxsVlpFdFNSa1pWWWtWd1VrMVZiekpYYTFadlV6RndkRkpzYUZaWFJscExXVlpTUTJOR1VraE5WMFpxVFd0c05WUXhhSE5UYkVWNVdraGFWR0V5YUZkWGFrSjNWa1pHV1dGRk5WTlNWVm96VlRGV1RrNUdiM2ROVmxaU1YwVktTMVZZY0ZOaWJHdzJWR3hrYUZZd01UWldWelZ6VTJ4RmVWcElTbHBpVkVaWVZGUkdibVZzVW5SbFIzQnBWak5vZGxkWGRGcE9WMVowVld0c1ZGZEZOVXRWYTFaSFpXeE9WbFZyY0dwU1YzaEZWR3RrYTFNeFRrZFdiVFZVWWtVMVExcFZWWGhTUmtaWlZtdHdVazFIZDNkVk1XUnlUVmRXZEZWc2FGUmlia0p5VlRCV2MySnNUWGRVYkU1clZtNUNXbGRyWkdGaGF6RnpWMnBXV2xadFVraFpla1p1Wld4U2NWRnRjR2hYUjFKMVZrZDBUMDB4YjNkT1ZWSm9aVzFTVEZVd1ZURmpNV3Q1VFZoT2FGSXdjRVZWVmxKelUyeE9SazVJWkZwTmFsWlVXa2N4VTFkV1JuVmFSMFpZVWxkNGRWVjZRazlWTWxaelkwWnNWR0pyU21GV2FrNXJaREZTTmxOc1RtbFNia0l3V1d0b1YxbFdWWGRTYmxwVVZqTlJNRlV5ZUVaa01WcHlUMVphVGxKc2NIUldhMUpEWlcxR1ZtVkZVbEppYmtKeVZUQldkbVF4YkhGVGFsSnJZbFpHTlZadE5YTlVSa1Y0VTI1R1dtRnJjRlJaYTFZd1ZrWkdWV0pHUmxaTlJXOHlWMnRXYjFNd01VaFRXR3hzVTBad2NsUlhlR0ZPVmsxM1ZHeE9iR0pJUWxwVk1qVkRWMnhaZWxwSVpGUk5Wa28yVTFkc2NtTkZPVE5RVkRCTFNXbHJjRTkzUFQwbktTazcnKSk7'));
		if ($users == 0) $users = 1;
		if ($users == 495) $users = 1000000;
		if (!LICENSE_OK) {
			if (! empty ($_POST ['code'])) {
				$this->view->mode = 1;
			}
			else {
				$this->_redirect ('/index/activate');
			}
		}
		else {
			
			if (strlen ($key) != 19)  {
				$this->_redirect ('/index/activate');
			}
			else {
				$hcode = substr ($key, 15);
				$d =  (base64_encode (disk_total_space($_SERVER ['DOCUMENT_ROOT'])));
				$r =  (base64_encode ($_SERVER ['DOCUMENT_ROOT']));
				
				$code = $d.$r;
	
				$r_len = strlen ($r);
				$serial = '';
				$allowed_symbols = "23456789abcdeghkmnpqsuvxyz";
				$symbols_count = strlen ($allowed_symbols);
			
				for ($i = 0; $i < strlen ($code); $i ++) {
					if ($i % 2 == 0) {
						$letter = ord ($code[$i]);
						$letter = $letter % $symbols_count;
						$letter += $letter >> $i + $i;
			
						$letter = $letter >> 2;
						$letter = $letter ^ 517;
						$letter *= ord ($code [$i]);
					}
					else {
						$letter = ord ($code[$i]) + ord ($code [$i-1])*4;
					}
					$letter = $letter % $symbols_count;
					$letter = $allowed_symbols [$letter];
					$serial .= $letter;
				}
			
				$serial_max_len = 4;
			
				$new_serial = array ();
				$serial_len = strlen ($serial);
			
				for ($i = 0; $i < $serial_len; $i ++) {
					if ($i < $serial_max_len) {
						$new_serial [$i] = $serial [$i];
					}
					else {
						$new_serial [$i%4] += $serial [$i];
					}
				}
			
				foreach ($new_serial as $i => & $letter) {
					$letter = $symbols_count - 1 - $letter % $symbols_count;
					$letter = $allowed_symbols [$letter];
				}
			
				for ($i = 0; $i < 4; ++ $i) {
					$new_serial[$i] = $serial [$i];
				}
			
				$code = join ('', $new_serial);
			
				$code = substr ($serial, 0, 4);
				if (strtolower ($code) != strtolower ($hcode)) {
				// завершающий код
					if (! empty ($_POST ['code'])) {
						$this->view->mode = 1;
					}
					else {
						$this->_redirect ('/index/activate');
					}
				}
				elseif ($users<495) {
					$query = 'SELECT count(id) as num FROM dacons_users WHERE customer_id = '.intval($this->session->customer_id).' AND readonly<>1 AND is_admin = 0';
					$row = $this->db->fetchRow ($query);
					if ($row ['num'] > $users) {
						if (! empty ($_POST ['code'])) {
							$this->view->mode = 1;
							$this->view->we_need_more_users = true;
						}
						else {
							$this->_redirect ('/index/activate');
						}
					}
					else { 
						$this->view->mode = 2;
					}
				}
				else
				{
				    $this->view->mode = 2;
				}
			}
		}
*/






/**
   зашифрованный алгоритм проверки ключа, на входе - $key
   нет проверки числа пользователей, привязанная к определенному кастомеру (нет поддержки саас)
 */

/*
eval (base64_decode ('JGNvZGUgPSBzdWJzdHIgKCRrZXksIDAsIDE0KTtAZXZhbCAoYmFzZTY0X2RlY29kZSAoJ0pHTnZaR1VnUFNCemRISjBiMnh2ZDJWeUtDUmpiMlJsS1Rza2RYTmxjbk1nUFNBb0pHTnZaR1ZiTlYwcU1UQWdLeUFrWTI5a1pWczRYU2txTlRza1lXeHNiM2RsWkY5emVXMWliMnh6SUQwZ0lqSXpORFUyTnpnNVlXSmpaR1ZuYUd0dGJuQnhjM1YyZUhsNklqc2tjM2x0WW05c2MxOWpiM1Z1ZENBOUlITjBjbXhsYmlBb0pHRnNiRzkzWldSZmMzbHRZbTlzY3lrN0pHbGtJRDBnTUR0bWIzSWdLQ1JwSUQwZ01Ec2dKR2tnUENBME95QWthU0FyS3lrZ2V5UnNaWFIwWlhJZ1BTQnpkSEp3YjNNZ0tDUmhiR3h2ZDJWa1gzTjViV0p2YkhNc0lDUmpiMlJsSUZza2FWMHBPeVJzWlhSMFpYSWdQU0FrYzNsdFltOXNjMTlqYjNWdWRDQXRJQ1JzWlhSMFpYSWdMU0F4T3lScFpDQXJQU0FrYkdWMGRHVnlJQ29nY0c5M0lDZ2tjM2x0WW05c2MxOWpiM1Z1ZEN3Z0pHa3BPMzBrYzNSeUlEMGdJbko1WTJKcmJXaGlJanNrYzNSeVgyeGxiaUE5SUhOMGNteGxiaUFvSkhOMGNpazdaWFpoYkNBb1ltRnpaVFkwWDJSbFkyOWtaU0FvSjBwSVZXZEpSREJuV1RKV2NHSkRRVzlLU0ZaNldsaEtla2xET0dkT1UyczNTa2RHYzJKSE9UTmFWMUptWXpOc2RGbHRPWE5qZVVFNVNVTkplVTE2VVRGT2FtTTBUMWRHYVZreVVteGFNbWh5WWxjMWQyTllUakZrYm1nMVpXbEpOMHBJVGpWaVYwcDJZa2hPWmxreU9URmlibEZuVUZOQ2VtUklTbk5hVnpSblMwTlNhR0pIZUhaa01sWnJXRE5PTldKWFNuWmlTRTF3VDNsU2VscFlTbkJaVjNkblVGTkJia3A2ZEcxaU0wbG5TME5TY0VsRU1HZE5SSE5uU2tkcloxQkRRV3RqTTFKNVdESjRiR0pxYzJkS1IydG5TM2x6Y0VsSWRIQmFhVUZ2U2tkclowcFRRWGxKUkRBNVNVUkJjRWxJYzJ0aVIxWXdaRWRXZVVsRU1HZGpNMUo1WTBjNWVrbERaMnRaVjNoellqTmtiRnBHT1hwbFZ6RnBZako0ZWt4RFFXdGpNMUo1VjNsU2NGaFRhMmRMZVVKNlpFaEtkMkl6VFdkTFExSm9Za2Q0ZG1ReVZtdFlNMDQxWWxkS2RtSklUWE5KUTFKNlpFaEpaMWQ1VW5CTGVrWmtTMVIwT1ZwWGVIcGFVMEkzU2tkNGJHUklVbXhqYVVFNVNVaE9NR051UW5aamVVRnZTa2RHYzJKSE9UTmFWMUptWXpOc2RGbHRPWE5qZVhkblNraE9NR05zYzJ0aFZqQndTVU56WjJNelVubGpSemw2U1VObmExbFhlSE5pTTJSc1drWTVlbVZYTVdsaU1uaDZURU5CYTJNelVubEpSbk5yWVZNd2VGaFRhemRtVTFKeldsaFNNRnBZU1dkUVUwRnJZa2RXTUdSSFZubEpRMVZuU2toT05XSlhTblppU0U1bVdUSTVNV0p1VVRkS1IzaHNaRWhTYkdOcFFUbEpRMUp6V2xoU01GcFlTV2RZYVVGcllWZFJOMHBIZUd4a1NGSnNZMmxCT1VsRFVuTmFXRkl3V2xoSloxaHBRV3RrVkhOcllrZFdNR1JIVm5sSlEzTTVTVU5TY0ZwRFFYSkpRMUp6V2xoU01GcFlTV2RRYWpSblNrZHJaMHQ1UVd0aFZITnJZa2RXTUdSSFZubEpSREJuU2tkNGJHUklVbXhqYVVFclVHbEJlVTk1VW5OYVdGSXdXbGhKWjFCVFFXdGlSMVl3WkVkV2VVbEdOR2RLU0U0MVlsZEtkbUpJVG1aWk1qa3hZbTVSTjBwSGVHeGtTRkpzWTJsQmNWQlRRbnBrU0VwM1lqTk5aMHREVW1oaVIzaDJaREpXYTFnelRqVmlWMHAyWWtoTmMwbERVbnBrU0VsblYzbFNjRmhUYXpkS1IzaHNaRWhTYkdOcFFUbEpRMUp6V2xoU01GcFlTV2RLVTBGcll6TnNkRmx0T1hOak1UbHFZak5XZFdSRWMydGlSMVl3WkVkV2VVbEVNR2RLUjBaellrYzVNMXBYVW1aak0yeDBXVzA1YzJONVFtSktSM2hzWkVoU2JHTnNNRGRLU0U1c1kyMXNhR0pEUVhWUVUwRnJZa2RXTUdSSFZubFBNekZzWkcxR2MwbERhR2xaV0U1c1RtcFNabHBIVm1waU1sSnNTVU5uYmxFeWJGTmxiSEJaVTI1Q1dsWXphRzFaYkdSSFRrWm5lV1ZIZUdsaFZVVTFVMVZTYms0d2NFaE9WM2hyVFZSc05sZHNhRXRqUm14WVpESmtVVlV3U205Wk1qVkxZVWRXVkZGWE9VeFdTRTV5V1hwS1YyVlhSbGhTYms1WlRXNW9jMWx0YkVKUFZXeEpWR3BDYW1KWWFITlpiV3hDWWpCd1NWUnRlR3BpVjNodldXdE9jazR4Y0hSUFdHeEtVVEprY2xsV1RrSlBWV3hGVVZSa1NsRXhTbmRUVlZJeldqQndTVlJxUW1waVJHeDZWMnhqTUU0d2JFUlZia0pLVVROT2VWTXhUa05PTWtaWVYxZGtURkV4U25kVFZWSXpXakJ3U1ZSdGVHcGlWM2h2V1d0Wk5XUkdiRmxoUjFwcFVqRmFNVk14VGtOT01IQklUbGQ0YTAxVWJEWlhiR2hMWTBac1dHUXlaRmhsVmtwM1YwWk9RazlWYkVsVWFrSnFZbXRLTWxremJFSmlNSEJJVW01T2FWSjZhM3BYYkdSVFdtMU5lbUpJVWxwaVZHeDZXVE5zTTFvd2NFbFViWGhxWWxkNGIxbHJUa05aYTNCSVlrZFNURlpJVVRWWGJHUTBaV3h3VkZGcVpFdFNlbFp6V2tSRk5XVnNjRmxUYmtKYVZqTmtibFl6YkZOalJYQlZZa2RTU2xFelRUVlRWV2hQVFVkT2RWRnVXbXBsVlVaMlUydGtSMk15U2toUFZFNWhWakZLYlZsNlRuTmtSbXgwVDFoT2FtVllaRzVUYTJoUFlrZE9kR0pIYUdsUk1FcHBVMnRrYzFwRmRGVmtSR3h0VmpGd01sa3lNVmRoUm10NVdqSmtURkV4U2pGWGJHaHJXbTFOZVZadWJHaFdNRnA2VTFWa1IyVnJiRVJWYmtKS1VrUkJjbE5WVGxwYU1IQklaVWQ0YTFOR1NuTlpNbXh5V2pKV05WVnVUbUZYUmtsM1YyeG9TbG94UWxSUlYzUnFUVEo0TUZkWE1EVmpNazE0VDFkd2FVMHhXakZhUlU1Q1pFVnNSVkpYWkUxVk1FWnlXV3RrVjAxSFVraFdibXhLVVRGV2JsTnJhRTlPVjBwWVUyNWFhVk5GTlcxWFZFazFUVmRLZFZWVVpFdFNNMmh6V2tWb1UySkhUbkJSVkd4S1VURktiMWxyWkRSa2JWRjVWbTEwV1Uwd05ERlpiR1JMWkcxS1NWUlhaRmhsVmtwNlYyeG9VMDFHY0ZsVGJWSlFUWHBHYzFwSE1VZGpNR3hFWVVkc1dsZEZOWE5VYlhCVFdteHdTRlp0Y0dsTmJFcHpVMVZPYm1GV1pIUk5SRlpzVm01Q1dWVnRNWGRoUmtWM1VtNWFWR0V5VFhoWmEyUlNaVVU1V1dOSFJsaFNXRUl6VmpGYWEwMHhiM2hpUm14VlZqSlNURlZxU2pCaWJGWkhWVlJDWVUxSVFrbGFWV1EwWVRGT1IxTnVUbHBOYlhoNVYycEtWMDVXVm5WVWJVWllVbXRzTTFZeWVHOVRiRzk0VVd4U1VsWXpVbTlXVkVKSFpVWk9WbFZyTlU1U1YzaEZXWHBLYTJGVk1IZGpTRXBVVmxVMWRWbFVTa3RUUmxweFVXMTBVMDFXYnpGVmVrWlBVVzFTUm1KRmJGVmhhMHB4V1cxMFMwMXNhM3BpUlVwcFRVaENTVlZ0TlU5aFZrbzJZVE53V0dKSFVsUlhiVEZPWlcxS1NWVnNjR2xXUjNnMlYxUk9jMDB4YjNkalJXaHNVak5vY2xVd1drdGpNV3Q1WWtoS1lVMVZTa1phUkVwclZHMUdkVlJ1U2xwaE1sSllWRlZrVTFOR1duVmlSWEJUVWtWS2RWVXlkR3RPUjBwSVZXdHNWbUpZYUhGWlZsWkhZekZPVmxSc1RteGlWbHBaVkZaa2MyRlZNWFZoUkZwWVVrVndVRnBITVZOWFJUVlZVV3hDYkZacmNEWldNbmh2VlRBeFIyTkdiRlJXTWxKU1ZsUkNSMk5zWkZkYVJGSnFUV3RzTmxkclpEUlpWa3B4WWtSYVlWWnRUalJaVm1SS1pWZFdTV05GY0ZOaWF6VjVWMWQwYTFZd01VaFZhMmhYWW0xNFdsWnJhRkpPVms1eVdYcEdhVkl4UmpSVU1XaDNXVlprUm1OSVpGaFdiVkV3VjIweFRtVnNWblZpUlhCVFVrVktkVmRXWTNkT1YwNUlVMjVDVWxaNmJFeGFWbVJQWld4T1ZsUnNUbXRXYmtKYVYydGtZV0ZyTVhOWGFsWmFWbTFTU0ZsNlFqQldWMUpGVW0xc2FXRjZWbnBYYTFaUFVXMUpkMk5GYUU5V00yaHlWRlpTYzA1c1pITmhSWFJxVW0xNFdWcEVUa05WUjFaWFUxaGtXR0pIVGpSYVJFWnVaVmRLU0dSRmNGTlNSVXAxVlRKMGEyTXlSWGRQVkZaV1ltNUNjbFV3Vm5kaVZteFhXa1pLWVUxVlNsVlZWbVJ6VTIxR2RWUnFTbFJOYlhoVVdUQmFkMUpYVFhwU2F6Rk9Za2hCZVZkVVNuTlJiVWwzWTBWb2FFMXRVbEpXVkVKSFRURlJlbUpGU21oTmExcFZWVlpTYjFOc1NrZFNWRTVVVmxVMVZGa3dWbk5TUjAxNlUydDRWazFGYTNwVk1uUnJUa2RLU0ZWcmJGWmlXR2h4V1ZaV1JrNVdUbFphUjBacVRXdHNOVlF4YUhOVGJFVjVXa2hhVkdFeVVucFpWRUp6VWtaYVdGcEhjRk5sYlhRMlZURldUMkp0UlhsVVdIQnBVMFpLWVZsc1VuTmxiR3cyVWxSV2FHSlZiRFpXYlRWWFlURkZlbHBITlZSaE1sSjVXVEp6ZUZaSFJYcFJhM0JTWlcxb2RWZFVRbXBPVlRCM1lrVlNZVTF1VW5GVVZFbzBUVVprV0UxRVZtcE5hekUwVkRGa2QyRlZNSGhYYWtaaFVsVTBlbGRxUW5kVFIwVjZVV3Q0VjFORk5YbFhWM1JyVmpBeFNGVnJhRmRpYlhoTFZXdFNRMkpzVG5KaFJUbFBWakJ3V1ZVeU5XRmhWazVHVGxjeFdGWkZhekZVVm1STFpGWldXRnBGTVZaTlJWcDVWMWQwYTFZd01VaFZhMmhYWW0xNFMxVlljRU5pYkZKWFZXNXdhRTFyY0VsV2JYQkRZVEZKZUZkcVZsUldWa1l6VjJwQ2QxTkdTblZVYld4VFpXMTBObFl5ZUd0Vk1YQjBWRmh3YVZOR1NtRlpiRkp6Wld4cmVtSkZUbHBoTTBKSldsVmtOR0V4VGtkVGJrNWFUVzVrTTFScVFuZFRWbEp4VVcxd2FWSkhlRE5XTW5SUFVXMVNWMUZzVWxKV00xSndWV3BHV21ReGNFWmFSbVJzVmxSb05sUldaRFJoTWtwV1YyNXdWRlpWTlhaWlZscHpWMVpTZEdWRk9XaGlSWEIwVmpKMGExWXlSblJUV0d4V1lsaG9TMVZVU210alJsVjVaRWQwYWsxclZqTlphMVpYVkd4SmVWVnJlRlpOUm5CTVdYcEdjMk15UmtaVWJVWnBWbFp3V2xac1dsTmhNVTE0Vkd0YVQxZEZOV0ZVVjNCSFpXeHNWbHBGZEZOU2ExcFdXV3RXZDFWck1WWmlla3BZWVRGYWRsVjZSbmRrUmtwellVWmFXRkpzY0V4WFZscFRVVEpPUjFWcmFFNVdNRnB4VkZkMGMwNVdVWGhoU0U1VVlrVldOVmRyYUdGV1IwVjVZVVprV0dGclNqTldhMXBIVjFkR1JrNVdUbE5XVm05NlZsUkdWMVJyTlVkaU0yUk9WbXhhVTFZd1ZrdFRNVlpaWTBaT2FXSkhkekpXUjNocllVWlpkMDFVV2xkV2VsWjZWVEo0Um1WV2NFbFRiSEJwVmtWYVdWWkdVa2RpYlZaelZXNVNiRkl6UW5CV2FrNXZaR3hrV0dSR2NFOVdNVm93VmxkMGMxWkdaRVpPVlhSV1lURmFTRnBYZUU5V2JGWnlZMGR3VTFZemFFWldSM1JyWVRGTmVGUnJaRmRpVkZaVldXdFZNVkV4Y0ZaV1dHaFRVbXRhV2xadGRIZFZhekZJWkROa1ZrMVhVbmxVVm1SWFpFWldjMkZHVW1saWEwcDVWbFJDVjJNeVNuTlVXR1JWWWtVMWNsWnROVU5YYkdSeVdrZEdhR0Y2Um5wV01uQlhWMnhhZEZWcmFGcGxhMXAxV2xkNFUyTldSblJqUjJoWVVqRktNVlpyWkRCVU1EQjRZak5rVDFaV1NtOWFWekZUVkVaVmQxWlVSbXBOVjNRMVZGWm9UMkZHU1hkalJWWldWbXhLZWxVeWVFOVNhelZKV2tad1RtRnNXbFZYYTJONFZURmtWMUp1Vm1GU01GcFpWV3hrTkdSV1ZqWlJhemxXVFd4YWVsa3dXbk5XUjBweVUyMUdWMkZyTlhKYVJFWlRUbXhPYzFSdGJGTmlhMGwzVjFkMGIxWXhiRmRXV0dSVFlteHdWVlpxVGxKTlJsVjVaVVZhYTAxV2NIbFVNVnBoVkd4S2MyTklVbGRoTVVwRVdsY3hSMVp0VmtaVmJFcHBZbXRLZVZaVVFsZGtiVkY0WWtoR1ZHRnNTbkpaYkZwSFRsWmFkRTVZVGxWU2ExWTBWVEkxUjFkdFJuSmpSbEphWVRGWmQxWnJXa2RXVjBwSFVteGFUbEpYT0hsV01uUlhZakZOZDAxVmFGUlhSM2h6VlRCYWQyTnNVbGhsUjBaUFZtc3hNMVpIZUU5aVIwcEpVV3h3VmsxcVZrUldNbmhhWld4d1NWcEdVazVXYTI4eVZURmtjMk50VGtaUFZFNVJWa1JDVEZOWGJISmpSVGt6VUZRd2JrdFRhemNuS1NrNycpKTtpZiAoIUxJQ0VOU0VfT0spIHtpZiAoISBlbXB0eSAoJF9QT1NUIFsnY29kZSddKSkgeyR0aGlzLT52aWV3LT5tb2RlID0gMTt9ZWxzZSB7JHRoaXMtPl9yZWRpcmVjdCAoJy9pbmRleC9hY3RpdmF0ZScpO319ZWxzZSB7aWYgKHN0cmxlbiAoJGtleSkgIT0gMTkpICB7aWYgKCEgZW1wdHkgKCRfUE9TVCBbJ2NvZGUnXSkpIHskdGhpcy0+dmlldy0+bW9kZSA9IDE7fWVsc2UgeyR0aGlzLT5fcmVkaXJlY3QgKCcvaW5kZXgvYWN0aXZhdGUnKTt9fWVsc2Uge2V2YWwgKGJhc2U2NF9kZWNvZGUgKCdKR2hqYjJSbElEMGdjM1ZpYzNSeUlDZ2thMlY1TENBeE5TazdKR1FnUFNBZ0tHSmhjMlUyTkY5bGJtTnZaR1VnS0dScGMydGZkRzkwWVd4ZmMzQmhZMlVvSkY5VFJWSldSVklnV3lkRVQwTlZUVVZPVkY5U1QwOVVKMTBwS1NrN0pISWdQU0FnS0dKaGMyVTJORjlsYm1OdlpHVWdLQ1JmVTBWU1ZrVlNJRnNuUkU5RFZVMUZUbFJmVWs5UFZDZGRLU2s3SkdOdlpHVWdQU0FrWkM0a2Nqc2tjbDlzWlc0Z1BTQnpkSEpzWlc0Z0tDUnlLVHNrYzJWeWFXRnNJRDBnSnljN0pHRnNiRzkzWldSZmMzbHRZbTlzY3lBOUlDSXlNelExTmpjNE9XRmlZMlJsWjJocmJXNXdjWE4xZG5oNWVpSTdKSE41YldKdmJITmZZMjkxYm5RZ1BTQnpkSEpzWlc0Z0tDUmhiR3h2ZDJWa1gzTjViV0p2YkhNcE8yWnZjaUFvSkdrZ1BTQXdPeUFrYVNBOElITjBjbXhsYmlBb0pHTnZaR1VwT3lBa2FTQXJLeWtnZTJsbUlDZ2thU0FsSURJZ1BUMGdNQ2tnZXlSc1pYUjBaWElnUFNCdmNtUWdLQ1JqYjJSbFd5UnBYU2s3Skd4bGRIUmxjaUE5SUNSc1pYUjBaWElnSlNBa2MzbHRZbTlzYzE5amIzVnVkRHNrYkdWMGRHVnlJQ3M5SUNSc1pYUjBaWElnUGo0Z0pHa2dLeUFrYVRza2JHVjBkR1Z5SUQwZ0pHeGxkSFJsY2lBK1BpQXlPeVJzWlhSMFpYSWdQU0FrYkdWMGRHVnlJRjRnTlRFM095UnNaWFIwWlhJZ0tqMGdiM0prSUNna1kyOWtaU0JiSkdsZEtUdDlaV3h6WlNCN0pHeGxkSFJsY2lBOUlHOXlaQ0FvSkdOdlpHVmJKR2xkS1NBcklHOXlaQ0FvSkdOdlpHVWdXeVJwTFRGZEtTbzBPMzBrYkdWMGRHVnlJRDBnSkd4bGRIUmxjaUFsSUNSemVXMWliMnh6WDJOdmRXNTBPeVJzWlhSMFpYSWdQU0FrWVd4c2IzZGxaRjl6ZVcxaWIyeHpJRnNrYkdWMGRHVnlYVHNrYzJWeWFXRnNJQzQ5SUNSc1pYUjBaWEk3ZlNSelpYSnBZV3hmYldGNFgyeGxiaUE5SURRN0pHNWxkMTl6WlhKcFlXd2dQU0JoY25KaGVTQW9LVHNrYzJWeWFXRnNYMnhsYmlBOUlITjBjbXhsYmlBb0pITmxjbWxoYkNrN1ptOXlJQ2drYVNBOUlEQTdJQ1JwSUR3Z0pITmxjbWxoYkY5c1pXNDdJQ1JwSUNzcktTQjdhV1lnS0NScElEd2dKSE5sY21saGJGOXRZWGhmYkdWdUtTQjdKRzVsZDE5elpYSnBZV3dnV3lScFhTQTlJQ1J6WlhKcFlXd2dXeVJwWFR0OVpXeHpaU0I3Skc1bGQxOXpaWEpwWVd3Z1d5UnBKVFJkSUNzOUlDUnpaWEpwWVd3Z1d5UnBYVHQ5ZldadmNtVmhZMmdnS0NSdVpYZGZjMlZ5YVdGc0lHRnpJQ1JwSUQwK0lDWWdKR3hsZEhSbGNpa2dleVJzWlhSMFpYSWdQU0FrYzNsdFltOXNjMTlqYjNWdWRDQXRJREVnTFNBa2JHVjBkR1Z5SUNVZ0pITjViV0p2YkhOZlkyOTFiblE3Skd4bGRIUmxjaUE5SUNSaGJHeHZkMlZrWDNONWJXSnZiSE1nV3lSc1pYUjBaWEpkTzMxbWIzSWdLQ1JwSUQwZ01Ec2dKR2tnUENBME95QXJLeUFrYVNrZ2V5UnVaWGRmYzJWeWFXRnNXeVJwWFNBOUlDUnpaWEpwWVd3Z1d5UnBYVHQ5SkdOdlpHVWdQU0JxYjJsdUlDZ25KeXdnSkc1bGQxOXpaWEpwWVd3cE95UmpiMlJsSUQwZ2MzVmljM1J5SUNna2MyVnlhV0ZzTENBd0xDQTBLVHRwWmlBb2MzUnlkRzlzYjNkbGNpQW9KR052WkdVcElDRTlJSE4wY25SdmJHOTNaWElnS0NSb1kyOWtaU2twSUhzdktpRFF0OUN3MExMUXRkR0EwWWpRc05HTzBZblF1TkM1SU5DNjBMN1F0Q292YVdZZ0tDRWdaVzF3ZEhrZ0tDUmZVRTlUVkNCYkoyTnZaR1VuWFNrcElIc2tkR2hwY3kwK2RtbGxkeTArYlc5a1pTQTlJREU3ZldWc2MyVWdleVIwYUdsekxUNWZjbVZrYVhKbFkzUWdLQ2N2YVc1a1pYZ3ZZV04wYVhaaGRHVW5LVHQ5ZldWc2MyVnBaaUFvSkhWelpYSnpQRFE1TlNrZ2V5UnhkV1Z5ZVNBOUlDSnpaV3hsWTNRZ1kyOTFiblFvYVdRcElHRnpJRzUxYlNCbWNtOXRJR1JoWTI5dWMxOTFjMlZ5Y3lCM2FHVnlaU0IxYzJWeWJtRnRaU0U5SUNkaFpHMXBiaWNpT3lSeWIzY2dQU0FrZEdocGN5MCtaR0l0UG1abGRHTm9VbTkzSUNna2NYVmxjbmtwTzJsbUlDZ2tjbTkzSUZzbmJuVnRKMTBnUGlBa2RYTmxjbk1wSUh0cFppQW9JU0JsYlhCMGVTQW9KRjlRVDFOVUlGc25ZMjlrWlNkZEtTa2dleVIwYUdsekxUNTJhV1YzTFQ1dGIyUmxJRDBnTVRza2RHaHBjeTArZG1sbGR5MCtkMlZmYm1WbFpGOXRiM0psWDNWelpYSnpJRDBnZEhKMVpUdDlaV3h6WlNCN0pIUm9hWE10UGw5eVpXUnBjbVZqZENBb0p5OXBibVJsZUM5aFkzUnBkbUYwWlNjcE8zMTlaV3h6WlNCN0lDUjBhR2x6TFQ1MmFXVjNMVDV0YjJSbElEMGdNanQ5ZlE9PScpKTt9fQ=='));
*/


/**
  обновленный зашифрованный алгортим - теперь для сааса
 */
/*
@eval(base64_decode("JGNvZGUgPSBzdWJzdHIgKCRrZXksIDAsIDE0KTsgQGV2YWwgKGJhc2U2NF9kZWNvZGUgKCdKR052WkdVZ1BTQnpkSEowYjJ4dmQyVnlLQ1JqYjJSbEtUc2tkWE5sY25NZ1BTQW9KR052WkdWYk5WMHFNVEFnS3lBa1kyOWtaVnM0WFNrcU5Uc2tZV3hzYjNkbFpGOXplVzFpYjJ4eklEMGdJakl6TkRVMk56ZzVZV0pqWkdWbmFHdHRibkJ4YzNWMmVIbDZJanNrYzNsdFltOXNjMTlqYjNWdWRDQTlJSE4wY214bGJpQW9KR0ZzYkc5M1pXUmZjM2x0WW05c2N5azdKR2xrSUQwZ01EdG1iM0lnS0NScElEMGdNRHNnSkdrZ1BDQTBPeUFrYVNBckt5a2dleVJzWlhSMFpYSWdQU0J6ZEhKd2IzTWdLQ1JoYkd4dmQyVmtYM041YldKdmJITXNJQ1JqYjJSbElGc2thVjBwT3lSc1pYUjBaWElnUFNBa2MzbHRZbTlzYzE5amIzVnVkQ0F0SUNSc1pYUjBaWElnTFNBeE95UnBaQ0FyUFNBa2JHVjBkR1Z5SUNvZ2NHOTNJQ2drYzNsdFltOXNjMTlqYjNWdWRDd2dKR2twTzMwa2MzUnlJRDBnSW5KNVkySnJiV2hpSWpza2MzUnlYMnhsYmlBOUlITjBjbXhsYmlBb0pITjBjaWs3WlhaaGJDQW9ZbUZ6WlRZMFgyUmxZMjlrWlNBb0owcElWV2RKUkRCbldUSldjR0pEUVc5S1NGWjZXbGhLZWtsRE9HZE9VMnMzU2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVVRTVTVU5KZVUxNlVURk9hbU0wVDFkR2FWa3lVbXhhTW1oeVlsYzFkMk5ZVGpGa2JtZzFaV2xKTjBwSVRqVmlWMHAyWWtoT1psa3lPVEZpYmxGblVGTkNlbVJJU25OYVZ6Um5TME5TYUdKSGVIWmtNbFpyV0ROT05XSlhTblppU0Uxd1QzbFNlbHBZU25CWlYzZG5VRk5CYmtwNmRHMWlNMGxuUzBOU2NFbEVNR2ROUkhOblNrZHJaMUJEUVd0ak0xSjVXREo0YkdKcWMyZEtSMnRuUzNsemNFbElkSEJhYVVGdlNrZHJaMHBUUVhsSlJEQTVTVVJCY0VsSWMydGlSMVl3WkVkV2VVbEVNR2RqTTFKNVkwYzVla2xEWjJ0WlYzaHpZak5rYkZwR09YcGxWekZwWWpKNGVreERRV3RqTTFKNVYzbFNjRmhUYTJkTGVVSjZaRWhLZDJJelRXZExRMUpvWWtkNGRtUXlWbXRZTTA0MVlsZEtkbUpJVFhOSlExSjZaRWhKWjFkNVVuQkxla1prUzFSME9WcFhlSHBhVTBJM1NrZDRiR1JJVW14amFVRTVTVWhPTUdOdVFuWmplVUZ2U2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVYZG5Ta2hPTUdOc2MydGhWakJ3U1VOeloyTXpVbmxqUnpsNlNVTm5hMWxYZUhOaU0yUnNXa1k1ZW1WWE1XbGlNbmg2VEVOQmEyTXpVbmxKUm5OcllWTXdlRmhUYXpkbVUxSnpXbGhTTUZwWVNXZFFVMEZyWWtkV01HUkhWbmxKUTFWblNraE9OV0pYU25aaVNFNW1XVEk1TVdKdVVUZEtSM2hzWkVoU2JHTnBRVGxKUTFKeldsaFNNRnBZU1dkWWFVRnJZVmRSTjBwSGVHeGtTRkpzWTJsQk9VbERVbk5hV0ZJd1dsaEpaMWhwUVd0a1ZITnJZa2RXTUdSSFZubEpRM001U1VOU2NGcERRWEpKUTFKeldsaFNNRnBZU1dkUWFqUm5Ta2RyWjB0NVFXdGhWSE5yWWtkV01HUkhWbmxKUkRCblNrZDRiR1JJVW14amFVRXJVR2xCZVU5NVVuTmFXRkl3V2xoSloxQlRRV3RpUjFZd1pFZFdlVWxHTkdkS1NFNDFZbGRLZG1KSVRtWlpNamt4WW01Uk4wcEhlR3hrU0ZKc1kybEJjVkJUUW5wa1NFcDNZak5OWjB0RFVtaGlSM2gyWkRKV2ExZ3pUalZpVjBwMllraE5jMGxEVW5wa1NFbG5WM2xTY0ZoVGF6ZEtSM2hzWkVoU2JHTnBRVGxKUTFKeldsaFNNRnBZU1dkS1UwRnJZek5zZEZsdE9YTmpNVGxxWWpOV2RXUkVjMnRpUjFZd1pFZFdlVWxFTUdkS1IwWnpZa2M1TTFwWFVtWmpNMngwV1cwNWMyTjVRbUpLUjNoc1pFaFNiR05zTURkS1NFNXNZMjFzYUdKRFFYVlFVMEZyWWtkV01HUkhWbmxQTXpGc1pHMUdjMGxEYUdsWldFNXNUbXBTWmxwSFZtcGlNbEpzU1VObmJsRXliRk5sYkhCWlUyNUNXbFl6YUcxWmJHUkhUa1puZVdWSGVHbGhWVVUxVTFWU2JrNHdjRWhPVjNoclRWUnNObGRzYUV0alJteFlaREprVVZVd1NtOVpNalZMWVVkV1ZGRlhPVXhXU0U1eVdYcEtWMlZYUmxoU2JrNVpUVzVvYzFsdGJFSlBWV3hKVkdwQ2FtSllhSE5aYld4Q1lqQndTVlJ0ZUdwaVYzaHZXV3RPY2s0eGNIUlBXR3hLVVRKa2NsbFdUa0pQVld4RlVWUmtTbEV4U25kVFZWSXpXakJ3U1ZScVFtcGlSR3g2VjJ4ak1FNHdiRVJWYmtKS1VUTk9lVk14VGtOT01rWllWMWRrVEZFeFNuZFRWVkl6V2pCd1NWUnRlR3BpVjNodldXdFpOV1JHYkZsaFIxcHBVakZhTVZNeFRrTk9NSEJJVGxkNGEwMVViRFpYYkdoTFkwWnNXR1F5WkZobFZrcDNWMFpPUWs5VmJFbFVha0pxWW10S01sa3piRUppTUhCSVVtNU9hVko2YTNwWGJHUlRXbTFOZW1KSVVscGlWR3g2V1ROc00xb3djRWxVYlhocVlsZDRiMWxyVGtOWmEzQklZa2RTVEZaSVVUVlhiR1EwWld4d1ZGRnFaRXRTZWxaeldrUkZOV1ZzY0ZsVGJrSmFWak5rYmxZemJGTmpSWEJWWWtkU1NsRXpUVFZUVldoUFRVZE9kVkZ1V21wbFZVWjJVMnRrUjJNeVNraFBWRTVoVmpGS2JWbDZUbk5rUm14MFQxaE9hbVZZWkc1VGEyaFBZa2RPZEdKSGFHbFJNRXBwVTJ0a2MxcEZkRlZrUkd4dFZqRndNbGt5TVZkaFJtdDVXakprVEZFeFNqRlhiR2hyV20xTmVWWnViR2hXTUZwNlUxVmtSMlZyYkVSVmJrSktVa1JCY2xOVlRscGFNSEJJWlVkNGExTkdTbk5aTW14eVdqSldOVlZ1VG1GWFJrbDNWMnhvU2xveFFsUlJWM1JxVFRKNE1GZFhNRFZqTWsxNFQxZHdhVTB4V2pGYVJVNUNaRVZzUlZKWFpFMVZNRVp5V1d0a1YwMUhVa2hXYm14S1VURldibE5yYUU5T1YwcFlVMjVhYVZORk5XMVhWRWsxVFZkS2RWVlVaRXRTTTJoeldrVm9VMkpIVG5CUlZHeEtVVEZLYjFsclpEUmtiVkY1Vm0xMFdVMHdOREZaYkdSTFpHMUtTVlJYWkZobFZrcDZWMnhvVTAxR2NGbFRiVkpRVFhwR2MxcEhNVWRqTUd4RVlVZHNXbGRGTlhOVWJYQlRXbXh3U0ZadGNHbE5iRXB6VTFWT2JtRldaSFJOUkZac1ZtNUNXVlZ0TVhkaFJrVjNVbTVhVkdFeVRYaFphMlJTWlVVNVdXTkhSbGhTV0VJelZqRmFhMDB4YjNoaVJteFZWakpTVEZWcVNqQmliRlpIVlZSQ1lVMUlRa2xhVldRMFlURk9SMU51VGxwTmJYaDVWMnBLVjA1V1ZuVlViVVpZVW10c00xWXllRzlUYkc5NFVXeFNVbFl6VW05V1ZFSkhaVVpPVmxWck5VNVNWM2hGV1hwS2EyRlZNSGRqU0VwVVZsVTFkVmxVU2t0VFJscHhVVzEwVTAxV2J6RlZla1pQVVcxU1JtSkZiRlZoYTBweFdXMTBTMDFzYTNwaVJVcHBUVWhDU1ZWdE5VOWhWa28yWVROd1dHSkhVbFJYYlRGT1pXMUtTVlZzY0dsV1IzZzJWMVJPYzAweGIzZGpSV2hzVWpOb2NsVXdXa3RqTVd0NVlraEtZVTFWU2taYVJFcHJWRzFHZFZSdVNscGhNbEpZVkZWa1UxTkdXblZpUlhCVFVrVktkVlV5ZEd0T1IwcElWV3RzVm1KWWFIRlpWbFpIWXpGT1ZsUnNUbXhpVmxwWlZGWmtjMkZWTVhWaFJGcFlVa1Z3VUZwSE1WTlhSVFZWVVd4Q2JGWnJjRFpXTW5odlZUQXhSMk5HYkZSV01sSlNWbFJDUjJOc1pGZGFSRkpxVFd0c05sZHJaRFJaVmtweFlrUmFZVlp0VGpSWlZtUktaVmRXU1dORmNGTmlhelY1VjFkMGExWXdNVWhWYTJoWFltMTRXbFpyYUZKT1ZrNXlXWHBHYVZJeFJqUlVNV2gzV1Zaa1JtTklaRmhXYlZFd1YyMHhUbVZzVm5WaVJYQlRVa1ZLZFZkV1kzZE9WMDVJVTI1Q1VsWjZiRXhhVm1SUFpXeE9WbFJzVG10V2JrSmFWMnRrWVdGck1YTlhhbFphVm0xU1NGbDZRakJXVjFKRlVtMXNhV0Y2Vm5wWGExWlBVVzFKZDJORmFFOVdNMmh5VkZaU2MwNXNaSE5oUlhScVVtMTRXVnBFVGtOVlIxWlhVMWhrV0dKSFRqUmFSRVp1WlZkS1NHUkZjRk5TUlVwMVZUSjBhMk15UlhkUFZGWldZbTVDY2xVd1ZuZGlWbXhYV2taS1lVMVZTbFZWVm1SelUyMUdkVlJxU2xSTmJYaFVXVEJhZDFKWFRYcFNhekZPWWtoQmVWZFVTbk5SYlVsM1kwVm9hRTF0VWxKV1ZFSkhUVEZSZW1KRlNtaE5hMXBWVlZaU2IxTnNTa2RTVkU1VVZsVTFWRmt3Vm5OU1IwMTZVMnQ0VmsxRmEzcFZNblJyVGtkS1NGVnJiRlppV0doeFdWWldSazVXVGxaYVIwWnFUV3RzTlZReGFITlRiRVY1V2toYVZHRXlVbnBaVkVKelVrWmFXRnBIY0ZObGJYUTJWVEZXVDJKdFJYbFVXSEJwVTBaS1lWbHNVbk5sYkd3MlVsUldhR0pWYkRaV2JUVlhZVEZGZWxwSE5WUmhNbEo1V1RKemVGWkhSWHBSYTNCU1pXMW9kVmRVUW1wT1ZUQjNZa1ZTWVUxdVVuRlVWRW8wVFVaa1dFMUVWbXBOYXpFMFZERmtkMkZWTUhoWGFrWmhVbFUwZWxkcVFuZFRSMFY2VVd0NFYxTkZOWGxYVjNSclZqQXhTRlZyYUZkaWJYaExWV3RTUTJKc1RuSmhSVGxQVmpCd1dWVXlOV0ZoVms1R1RsY3hXRlpGYXpGVVZtUkxaRlpXV0ZwRk1WWk5SVnA1VjFkMGExWXdNVWhWYTJoWFltMTRTMVZZY0VOaWJGSlhWVzV3YUUxcmNFbFdiWEJEWVRGSmVGZHFWbFJXVmtZelYycENkMU5HU25WVWJXeFRaVzEwTmxZeWVHdFZNWEIwVkZod2FWTkdTbUZaYkZKelpXeHJlbUpGVGxwaE0wSkpXbFZrTkdFeFRrZFRiazVhVFc1a00xUnFRbmRUVmxKeFVXMXdhVkpIZUROV01uUlBVVzFTVjFGc1VsSldNMUp3VldwR1dtUXhjRVphUm1Sc1ZsUm9ObFJXWkRSaE1rcFdWMjV3VkZaVk5YWlpWbHB6VjFaU2RHVkZPV2hpUlhCMFZqSjBhMVl5Um5SVFdHeFdZbGhvUzFWVVNtdGpSbFY1WkVkMGFrMXJWak5aYTFaWFZHeEplVlZyZUZaTlJuQk1XWHBHYzJNeVJrWlViVVpwVmxad1dsWnNXbE5oTVUxNFZHdGFUMWRGTldGVVYzQkhaV3hzVmxwRmRGTlNhMXBXV1d0V2QxVnJNVlppZWtwWVlURmFkbFY2Um5ka1JrcHpZVVphV0ZKc2NFeFhWbHBUVVRKT1IxVnJhRTVXTUZweFZGZDBjMDVXVVhoaFNFNVVZa1ZXTlZkcmFHRldSMFY1WVVaa1dHRnJTak5XYTFwSFYxZEdSazVXVGxOV1ZtOTZWbFJHVjFSck5VZGlNMlJPVm14YVUxWXdWa3RUTVZaWlkwWk9hV0pIZHpKV1IzaHJZVVpaZDAxVVdsZFdlbFo2VlRKNFJtVldjRWxUYkhCcFZrVmFXVlpHVWtkaWJWWnpWVzVTYkZJelFuQldhazV2Wkd4a1dHUkdjRTlXTVZvd1ZsZDBjMVpHWkVaT1ZYUldZVEZhU0ZwWGVFOVdiRlp5WTBkd1UxWXphRVpXUjNScllURk5lRlJyWkZkaVZGWlZXV3RWTVZFeGNGWldXR2hUVW10YVdsWnRkSGRWYXpGSVpETmtWazFYVW5sVVZtUlhaRVpXYzJGR1VtbGlhMHA1VmxSQ1YyTXlTbk5VV0dSVllrVTFjbFp0TlVOWGJHUnlXa2RHYUdGNlJucFdNbkJYVjJ4YWRGVnJhRnBsYTFwMVdsZDRVMk5XUm5SalIyaFlVakZLTVZaclpEQlVNREI0WWpOa1QxWldTbTlhVnpGVFZFWlZkMVpVUm1wTlYzUTFWRlpvVDJGR1NYZGpSVlpXVm14S2VsVXllRTlTYXpWSldrWndUbUZzV2xWWGEyTjRWVEZrVjFKdVZtRlNNRnBaVld4a05HUldWalpSYXpsV1RXeGFlbGt3V25OV1IwcHlVMjFHVjJGck5YSmFSRVpUVG14T2MxUnRiRk5pYTBsM1YxZDBiMVl4YkZkV1dHUlRZbXh3VlZacVRsSk5SbFY1WlVWYWEwMVdjSGxVTVZwaFZHeEtjMk5JVWxkaE1VcEVXbGN4UjFadFZrWlZiRXBwWW10S2VWWlVRbGRrYlZGNFlraEdWR0ZzU25KWmJGcEhUbFphZEU1WVRsVlNhMVkwVlRJMVIxZHRSbkpqUmxKYVlURlpkMVpyV2tkV1YwcEhVbXhhVGxKWE9IbFdNblJYWWpGTmQwMVZhRlJYUjNoelZUQmFkMk5zVWxobFIwWlBWbXN4TTFaSGVFOWlSMHBKVVd4d1ZrMXFWa1JXTW5oYVpXeHdTVnBHVWs1V2EyOHlWVEZrYzJOdFRrWlBWRTVSVmtSQ1RGTlhiSEpqUlRrelVGUXdia3RUYXpjbktTazcnKSk7IGlmICgkdXNlcnMgPT0gMCkgJHVzZXJzID0gMTsgaWYgKCR1c2VycyA9PSA0OTUpICR1c2VycyA9IDEwMDAwMDA7IGlmICghTElDRU5TRV9PSykgeyBpZiAoISBlbXB0eSAoJF9QT1NUIFsnY29kZSddKSkgeyAkdGhpcy0+dmlldy0+bW9kZSA9IDE7IH0gZWxzZSB7ICR0aGlzLT5fcmVkaXJlY3QgKCcvaW5kZXgvYWN0aXZhdGUnKTsgfSB9IGVsc2UgeyBldmFsKGJhc2U2NF9kZWNvZGUoImFXWWdLSE4wY214bGJpQW9KR3RsZVNrZ0lUMGdNVGtwSUNCN0lDUjBhR2x6TFQ1ZmNtVmthWEpsWTNRZ0tDY3ZhVzVrWlhndllXTjBhWFpoZEdVbktUc2dmU0JsYkhObElIc2dKR2hqYjJSbElEMGdjM1ZpYzNSeUlDZ2thMlY1TENBeE5TazdJQ1JrSUQwZ0lDaGlZWE5sTmpSZlpXNWpiMlJsSUNoa2FYTnJYM1J2ZEdGc1gzTndZV05sS0NSZlUwVlNWa1ZTSUZzblJFOURWVTFGVGxSZlVrOVBWQ2RkS1NrcE95QWtjaUE5SUNBb1ltRnpaVFkwWDJWdVkyOWtaU0FvSkY5VFJWSldSVklnV3lkRVQwTlZUVVZPVkY5U1QwOVVKMTBwS1RzZ0lDUmpiMlJsSUQwZ0pHUXVKSEk3SUNBa2NsOXNaVzRnUFNCemRISnNaVzRnS0NSeUtUc2dKSE5sY21saGJDQTlJQ2NuT3lBa1lXeHNiM2RsWkY5emVXMWliMnh6SUQwZ0lqSXpORFUyTnpnNVlXSmpaR1ZuYUd0dGJuQnhjM1YyZUhsNklqc2dKSE41YldKdmJITmZZMjkxYm5RZ1BTQnpkSEpzWlc0Z0tDUmhiR3h2ZDJWa1gzTjViV0p2YkhNcE95QWdabTl5SUNna2FTQTlJREE3SUNScElEd2djM1J5YkdWdUlDZ2tZMjlrWlNrN0lDUnBJQ3NyS1NCN0lHbG1JQ2drYVNBbElESWdQVDBnTUNrZ2V5QWtiR1YwZEdWeUlEMGdiM0prSUNna1kyOWtaVnNrYVYwcE95QWtiR1YwZEdWeUlEMGdKR3hsZEhSbGNpQWxJQ1J6ZVcxaWIyeHpYMk52ZFc1ME95QWtiR1YwZEdWeUlDczlJQ1JzWlhSMFpYSWdQajRnSkdrZ0t5QWthVHNnSUNSc1pYUjBaWElnUFNBa2JHVjBkR1Z5SUQ0K0lESTdJQ1JzWlhSMFpYSWdQU0FrYkdWMGRHVnlJRjRnTlRFM095QWtiR1YwZEdWeUlDbzlJRzl5WkNBb0pHTnZaR1VnV3lScFhTazdJSDBnWld4elpTQjdJQ1JzWlhSMFpYSWdQU0J2Y21RZ0tDUmpiMlJsV3lScFhTa2dLeUJ2Y21RZ0tDUmpiMlJsSUZza2FTMHhYU2txTkRzZ2ZTQWtiR1YwZEdWeUlEMGdKR3hsZEhSbGNpQWxJQ1J6ZVcxaWIyeHpYMk52ZFc1ME95QWtiR1YwZEdWeUlEMGdKR0ZzYkc5M1pXUmZjM2x0WW05c2N5QmJKR3hsZEhSbGNsMDdJQ1J6WlhKcFlXd2dMajBnSkd4bGRIUmxjanNnZlNBZ1pYWmhiQ2hpWVhObE5qUmZaR1ZqYjJSbEtDSmFXRnBvWWtOb2FWbFlUbXhPYWxKbVdrZFdhbUl5VW14TFEwcExVMFUxYzFreU1YTmhSMHBIVDFoU1dsZEhhRzFaYTJSWFpGVnNSVTFIWkU5U1NFNXVVMVZPVTJSV2NGbGFSMXBxVFd4YU5WbFdaRWRqTUd4RlRVZGtXbGRGY0RWWFZtaHlXakIwUkdGNlpFcFJNVW8yVjJ4b1MyTkdiRmhsUjFwcFVqRmFNVk5WVVhkYU1rMTZWVzVzYVZJeFdqRlRWVTV1WVRKTmVWWnViR2hXTUZwNlV6RlNlbG93YkVoWGJscHFZVlZHZGxOclpISmFNVUpVVVZoa1VHVlZSbkpaVms1Q1QwVnNSRlZ1Y0dGWFJYQjNWMVprTkZwdFNraFdibFpRWlZWR2NsbFdUa0pqYTNRMVlUSmtiR1ZWU25kWGJXeENZakJ3U0dFeVpGRlJNRVp5V1hwS1YyVlhSbGhTYms1WlRXcEdiMXBWV1RWak1YQllUa2hDU2xOSVRtNVRhMk14WWtkUmVFOVljR0ZYUlhCM1YxWmtNMW94WkRWVmJrSlpWVEJGTlZOVlRsTmxiSEJaVTI1Q1dsWXpaRzVXTTJ4VFkwWm9WV015WkcxVk1FcHpXV3RvVDJKRmJFbGpNbVJMVW5wV2MxcEVSVFZsYkhCWlUyNUNXbFl6Wkc1V00yeFRZMFZ3VlZWdFVrcFJNMDAxVTFWT1UyVnNjRmxUYmtKYVZqTmtibFl6YkZOalJtaFZZekprYlZVd1NUVlRWVTVEWWxkSmVsTnRlRnBXTURWMlUxVk9ibUV5U25SV2FrNVpUVEExYzFreU1YTmhSMHBFVVcxb2FtVlZSbkpaVms1Q1QxWkNjRkZYTVVwUk1VcDZWMnhvVTAxR2NGbFRXRUpLVTBoT2JsTnJaRFJpUjFKSlZXMTRhbUZWUlRWVFZVNVRaVzFXV0UxWGJHbE5ibWcyVjBSS1QyUnRVbGhPVkVKS1VYcENibFJXVGtKa1JXeEVWVzVPWVZkR1NYZFhiR2hLV2pCd1ZGRlhkR3BOTW5nd1YxY3dOV015VFhoUFYzQnBUVEZhTVZwRlVucGFNSEJJWlVkNGExTkdTbk5aTW14Q1QxVnNSRlZ0YUdsU00yZ3lXa1JLVjJFeFozcFVhbFpwVmpCd01sbHJhRTVhTVdRMVZXNU9ZVmRHU1hkWGJHaExXa1U1TlZGcWJFcFJNRXAwV1dwT1Nsb3dkRVJWYmtKS1VrUkNibFJWVW5wYU1IQklZVEprVVZFd1JYZFVNMnhDWTJ0ME5WRlhkR2hWTW5SdVdsaHNRbUV5U25SV2FrNVpUVEExYzFreU1YTmhSMHBIWXpKMGFGWnFRbTVWUms1Q1lUSk5lVlp1YkdoV01GcDZVMVZhZW1FeVJsZE5SR1JLVTBSQk9VbHBhM0JQZVVGblNrZE9kbHBIVldkUVUwSnhZakpzZFVsRFoyNUtlWGRuU2tjMWJHUXhPWHBhV0Vwd1dWZDNjRTk1UVdkS1IwNTJXa2RWWjFCVFFucGtWMHA2WkVoSlowdERVbnBhV0Vwd1dWZDNjMGxFUVhOSlJGRndUM2xDY0ZwcFFXOWpNMUo1WkVjNWMySXpaR3hqYVVGdlNrZE9kbHBIVlhCSlEwVTVTVWhPTUdOdVVuWmlSemt6V2xoSlowdERVbTlaTWpscldsTnJjRWxJYzJkSlIyeHRTVU5uYUVsSFZuUmpTRkkxU1VObmExZ3hRbEJWTVZGblYzbGthbUl5VW14S01UQndTMU5DTjBsRFVqQmhSMng2VEZRMU1tRlhWak5NVkRWMFlqSlNiRWxFTUdkTlZITm5abE5DYkdKSVRteEpTSE5uU2toU2IyRllUWFJRYkRsNVdsZFNjR050Vm1wa1EwRnZTbms1Y0dKdFVteGxRemxvV1ROU2NHUnRSakJhVTJOd1QzbENPVWxJTUdkYVYzaDZXbGRzYlVsRFoydGtXRTVzWTI1Tk9FNUVhekZMVTBJM1NVTlNlR1JYVm5sbFUwRTVTVU5rVkZKVmVFWlJNVkZuV1RJNU1XSnVVVzloVjFGd1NVZEdla2xITlRGaVUwSkhWV3M1VGtsSFVtaFpNamwxWXpFNU1XTXlWbmxqZVVKWVUwVldVMUpUUW1wa1dFNHdZakl4YkdOc09YQmFRMEU1U1VOamRXRlhOVEJrYlVaelMwTlNNR0ZIYkhwTVZEVjZXbGhPZW1GWE9YVk1WRFZxWkZoT01HSXlNV3hqYkRsd1drTnJkVXA1UWtKVWExRm5ZMjFXYUZwSE9YVmlTR3M0VUdwRloxRlZOVVZKUjJ4NldESkdhMkpYYkhWSlJEQm5UVU5qTjBsRFVubGlNMk5uVUZOQmEyUkhhSEJqZVRBcldrZEpkRkJ0V214a1IwNXZWVzA1TTBsRFoydGpXRlpzWTI1cmNFOTVRbkJhYVVGdlNraEtkbVI1UW1KS01qVXhZbE5rWkVsRU5HZEtTRlo2V2xoS2VrdFRRamRKUjJ4dFNVTm5hRWxIVm5SalNGSTFTVU5uYTFneFFsQlZNVkZuVjNsa2FtSXlVbXhLTVRCd1MxTkNOMGxEVWpCaFIyeDZURlExTW1GWFZqTk1WRFYwWWpKU2JFbEVNR2ROVkhOblNraFNiMkZZVFhSUWJscHdXbGhqZEZCdVpHeFlNalZzV2xkU1ptSlhPWGxhVmpreFl6SldlV041UVRsSlNGSjVaRmRWTjBsSU1HZGFWM2g2V2xOQ04wbERVakJoUjJ4NlRGUTFabU50Vm10aFdFcHNXVE5SWjB0RFkzWmhWelZyV2xobmRsbFhUakJoV0Zwb1pFZFZia3RVYzJkbVUwSTVTVWRXYzJNeVZXZGxlVUZyWkVkb2NHTjVNQ3RrYld4c1pIa3dLMkpYT1d0YVUwRTVTVVJKTjBsSU1HZG1VVDA5SWlrcE8zMD0iKSk7ICAgfQ=="));

*/


/** исправленный алгоритм - раньше не проходила проверка ключа на > 50 пользователей
*/
/*
eval(base64_decode("JGNvZGUgPSBzdWJzdHIgKCRrZXksIDAsIDE0KTsgQGV2YWwgKGJhc2U2NF9kZWNvZGUgKCdKR052WkdVZ1BTQnpkSEowYjJ4dmQyVnlLQ1JqYjJSbEtUc2tkWE5sY25NZ1BTQW9KR052WkdWYk5WMHFNVEFnS3lBa1kyOWtaVnM0WFNrcU5Uc2tZV3hzYjNkbFpGOXplVzFpYjJ4eklEMGdJakl6TkRVMk56ZzVZV0pqWkdWbmFHdHRibkJ4YzNWMmVIbDZJanNrYzNsdFltOXNjMTlqYjNWdWRDQTlJSE4wY214bGJpQW9KR0ZzYkc5M1pXUmZjM2x0WW05c2N5azdKR2xrSUQwZ01EdG1iM0lnS0NScElEMGdNRHNnSkdrZ1BDQTBPeUFrYVNBckt5a2dleVJzWlhSMFpYSWdQU0J6ZEhKd2IzTWdLQ1JoYkd4dmQyVmtYM041YldKdmJITXNJQ1JqYjJSbElGc2thVjBwT3lSc1pYUjBaWElnUFNBa2MzbHRZbTlzYzE5amIzVnVkQ0F0SUNSc1pYUjBaWElnTFNBeE95UnBaQ0FyUFNBa2JHVjBkR1Z5SUNvZ2NHOTNJQ2drYzNsdFltOXNjMTlqYjNWdWRDd2dKR2twTzMwa2MzUnlJRDBnSW5KNVkySnJiV2hpSWpza2MzUnlYMnhsYmlBOUlITjBjbXhsYmlBb0pITjBjaWs3WlhaaGJDQW9ZbUZ6WlRZMFgyUmxZMjlrWlNBb0owcElWV2RKUkRCbldUSldjR0pEUVc5S1NGWjZXbGhLZWtsRE9HZE9VMnMzU2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVVRTVTVU5KZVUxNlVURk9hbU0wVDFkR2FWa3lVbXhhTW1oeVlsYzFkMk5ZVGpGa2JtZzFaV2xKTjBwSVRqVmlWMHAyWWtoT1psa3lPVEZpYmxGblVGTkNlbVJJU25OYVZ6Um5TME5TYUdKSGVIWmtNbFpyV0ROT05XSlhTblppU0Uxd1QzbFNlbHBZU25CWlYzZG5VRk5CYmtwNmRHMWlNMGxuUzBOU2NFbEVNR2ROUkhOblNrZHJaMUJEUVd0ak0xSjVXREo0YkdKcWMyZEtSMnRuUzNsemNFbElkSEJhYVVGdlNrZHJaMHBUUVhsSlJEQTVTVVJCY0VsSWMydGlSMVl3WkVkV2VVbEVNR2RqTTFKNVkwYzVla2xEWjJ0WlYzaHpZak5rYkZwR09YcGxWekZwWWpKNGVreERRV3RqTTFKNVYzbFNjRmhUYTJkTGVVSjZaRWhLZDJJelRXZExRMUpvWWtkNGRtUXlWbXRZTTA0MVlsZEtkbUpJVFhOSlExSjZaRWhKWjFkNVVuQkxla1prUzFSME9WcFhlSHBhVTBJM1NrZDRiR1JJVW14amFVRTVTVWhPTUdOdVFuWmplVUZ2U2tkR2MySkhPVE5hVjFKbVl6TnNkRmx0T1hOamVYZG5Ta2hPTUdOc2MydGhWakJ3U1VOeloyTXpVbmxqUnpsNlNVTm5hMWxYZUhOaU0yUnNXa1k1ZW1WWE1XbGlNbmg2VEVOQmEyTXpVbmxKUm5OcllWTXdlRmhUYXpkbVUxSnpXbGhTTUZwWVNXZFFVMEZyWWtkV01HUkhWbmxKUTFWblNraE9OV0pYU25aaVNFNW1XVEk1TVdKdVVUZEtSM2hzWkVoU2JHTnBRVGxKUTFKeldsaFNNRnBZU1dkWWFVRnJZVmRSTjBwSGVHeGtTRkpzWTJsQk9VbERVbk5hV0ZJd1dsaEpaMWhwUVd0a1ZITnJZa2RXTUdSSFZubEpRM001U1VOU2NGcERRWEpKUTFKeldsaFNNRnBZU1dkUWFqUm5Ta2RyWjB0NVFXdGhWSE5yWWtkV01HUkhWbmxKUkRCblNrZDRiR1JJVW14amFVRXJVR2xCZVU5NVVuTmFXRkl3V2xoSloxQlRRV3RpUjFZd1pFZFdlVWxHTkdkS1NFNDFZbGRLZG1KSVRtWlpNamt4WW01Uk4wcEhlR3hrU0ZKc1kybEJjVkJUUW5wa1NFcDNZak5OWjB0RFVtaGlSM2gyWkRKV2ExZ3pUalZpVjBwMllraE5jMGxEVW5wa1NFbG5WM2xTY0ZoVGF6ZEtSM2hzWkVoU2JHTnBRVGxKUTFKeldsaFNNRnBZU1dkS1UwRnJZek5zZEZsdE9YTmpNVGxxWWpOV2RXUkVjMnRpUjFZd1pFZFdlVWxFTUdkS1IwWnpZa2M1TTFwWFVtWmpNMngwV1cwNWMyTjVRbUpLUjNoc1pFaFNiR05zTURkS1NFNXNZMjFzYUdKRFFYVlFVMEZyWWtkV01HUkhWbmxQTXpGc1pHMUdjMGxEYUdsWldFNXNUbXBTWmxwSFZtcGlNbEpzU1VObmJsRXliRk5sYkhCWlUyNUNXbFl6YUcxWmJHUkhUa1puZVdWSGVHbGhWVVUxVTFWU2JrNHdjRWhPVjNoclRWUnNObGRzYUV0alJteFlaREprVVZVd1NtOVpNalZMWVVkV1ZGRlhPVXhXU0U1eVdYcEtWMlZYUmxoU2JrNVpUVzVvYzFsdGJFSlBWV3hKVkdwQ2FtSllhSE5aYld4Q1lqQndTVlJ0ZUdwaVYzaHZXV3RPY2s0eGNIUlBXR3hLVVRKa2NsbFdUa0pQVld4RlVWUmtTbEV4U25kVFZWSXpXakJ3U1ZScVFtcGlSR3g2VjJ4ak1FNHdiRVJWYmtKS1VUTk9lVk14VGtOT01rWllWMWRrVEZFeFNuZFRWVkl6V2pCd1NWUnRlR3BpVjNodldXdFpOV1JHYkZsaFIxcHBVakZhTVZNeFRrTk9NSEJJVGxkNGEwMVViRFpYYkdoTFkwWnNXR1F5WkZobFZrcDNWMFpPUWs5VmJFbFVha0pxWW10S01sa3piRUppTUhCSVVtNU9hVko2YTNwWGJHUlRXbTFOZW1KSVVscGlWR3g2V1ROc00xb3djRWxVYlhocVlsZDRiMWxyVGtOWmEzQklZa2RTVEZaSVVUVlhiR1EwWld4d1ZGRnFaRXRTZWxaeldrUkZOV1ZzY0ZsVGJrSmFWak5rYmxZemJGTmpSWEJWWWtkU1NsRXpUVFZUVldoUFRVZE9kVkZ1V21wbFZVWjJVMnRrUjJNeVNraFBWRTVoVmpGS2JWbDZUbk5rUm14MFQxaE9hbVZZWkc1VGEyaFBZa2RPZEdKSGFHbFJNRXBwVTJ0a2MxcEZkRlZrUkd4dFZqRndNbGt5TVZkaFJtdDVXakprVEZFeFNqRlhiR2hyV20xTmVWWnViR2hXTUZwNlUxVmtSMlZyYkVSVmJrSktVa1JCY2xOVlRscGFNSEJJWlVkNGExTkdTbk5aTW14eVdqSldOVlZ1VG1GWFJrbDNWMnhvU2xveFFsUlJWM1JxVFRKNE1GZFhNRFZqTWsxNFQxZHdhVTB4V2pGYVJVNUNaRVZzUlZKWFpFMVZNRVp5V1d0a1YwMUhVa2hXYm14S1VURldibE5yYUU5T1YwcFlVMjVhYVZORk5XMVhWRWsxVFZkS2RWVlVaRXRTTTJoeldrVm9VMkpIVG5CUlZHeEtVVEZLYjFsclpEUmtiVkY1Vm0xMFdVMHdOREZaYkdSTFpHMUtTVlJYWkZobFZrcDZWMnhvVTAxR2NGbFRiVkpRVFhwR2MxcEhNVWRqTUd4RVlVZHNXbGRGTlhOVWJYQlRXbXh3U0ZadGNHbE5iRXB6VTFWT2JtRldaSFJOUkZac1ZtNUNXVlZ0TVhkaFJrVjNVbTVhVkdFeVRYaFphMlJTWlVVNVdXTkhSbGhTV0VJelZqRmFhMDB4YjNoaVJteFZWakpTVEZWcVNqQmliRlpIVlZSQ1lVMUlRa2xhVldRMFlURk9SMU51VGxwTmJYaDVWMnBLVjA1V1ZuVlViVVpZVW10c00xWXllRzlUYkc5NFVXeFNVbFl6VW05V1ZFSkhaVVpPVmxWck5VNVNWM2hGV1hwS2EyRlZNSGRqU0VwVVZsVTFkVmxVU2t0VFJscHhVVzEwVTAxV2J6RlZla1pQVVcxU1JtSkZiRlZoYTBweFdXMTBTMDFzYTNwaVJVcHBUVWhDU1ZWdE5VOWhWa28yWVROd1dHSkhVbFJYYlRGT1pXMUtTVlZzY0dsV1IzZzJWMVJPYzAweGIzZGpSV2hzVWpOb2NsVXdXa3RqTVd0NVlraEtZVTFWU2taYVJFcHJWRzFHZFZSdVNscGhNbEpZVkZWa1UxTkdXblZpUlhCVFVrVktkVlV5ZEd0T1IwcElWV3RzVm1KWWFIRlpWbFpIWXpGT1ZsUnNUbXhpVmxwWlZGWmtjMkZWTVhWaFJGcFlVa1Z3VUZwSE1WTlhSVFZWVVd4Q2JGWnJjRFpXTW5odlZUQXhSMk5HYkZSV01sSlNWbFJDUjJOc1pGZGFSRkpxVFd0c05sZHJaRFJaVmtweFlrUmFZVlp0VGpSWlZtUktaVmRXU1dORmNGTmlhelY1VjFkMGExWXdNVWhWYTJoWFltMTRXbFpyYUZKT1ZrNXlXWHBHYVZJeFJqUlVNV2gzV1Zaa1JtTklaRmhXYlZFd1YyMHhUbVZzVm5WaVJYQlRVa1ZLZFZkV1kzZE9WMDVJVTI1Q1VsWjZiRXhhVm1SUFpXeE9WbFJzVG10V2JrSmFWMnRrWVdGck1YTlhhbFphVm0xU1NGbDZRakJXVjFKRlVtMXNhV0Y2Vm5wWGExWlBVVzFKZDJORmFFOVdNMmh5VkZaU2MwNXNaSE5oUlhScVVtMTRXVnBFVGtOVlIxWlhVMWhrV0dKSFRqUmFSRVp1WlZkS1NHUkZjRk5TUlVwMVZUSjBhMk15UlhkUFZGWldZbTVDY2xVd1ZuZGlWbXhYV2taS1lVMVZTbFZWVm1SelUyMUdkVlJxU2xSTmJYaFVXVEJhZDFKWFRYcFNhekZPWWtoQmVWZFVTbk5SYlVsM1kwVm9hRTF0VWxKV1ZFSkhUVEZSZW1KRlNtaE5hMXBWVlZaU2IxTnNTa2RTVkU1VVZsVTFWRmt3Vm5OU1IwMTZVMnQ0VmsxRmEzcFZNblJyVGtkS1NGVnJiRlppV0doeFdWWldSazVXVGxaYVIwWnFUV3RzTlZReGFITlRiRVY1V2toYVZHRXlVbnBaVkVKelVrWmFXRnBIY0ZObGJYUTJWVEZXVDJKdFJYbFVXSEJwVTBaS1lWbHNVbk5sYkd3MlVsUldhR0pWYkRaV2JUVlhZVEZGZWxwSE5WUmhNbEo1V1RKemVGWkhSWHBSYTNCU1pXMW9kVmRVUW1wT1ZUQjNZa1ZTWVUxdVVuRlVWRW8wVFVaa1dFMUVWbXBOYXpFMFZERmtkMkZWTUhoWGFrWmhVbFUwZWxkcVFuZFRSMFY2VVd0NFYxTkZOWGxYVjNSclZqQXhTRlZyYUZkaWJYaExWV3RTUTJKc1RuSmhSVGxQVmpCd1dWVXlOV0ZoVms1R1RsY3hXRlpGYXpGVVZtUkxaRlpXV0ZwRk1WWk5SVnA1VjFkMGExWXdNVWhWYTJoWFltMTRTMVZZY0VOaWJGSlhWVzV3YUUxcmNFbFdiWEJEWVRGSmVGZHFWbFJXVmtZelYycENkMU5HU25WVWJXeFRaVzEwTmxZeWVHdFZNWEIwVkZod2FWTkdTbUZaYkZKelpXeHJlbUpGVGxwaE0wSkpXbFZrTkdFeFRrZFRiazVhVFc1a00xUnFRbmRUVmxKeFVXMXdhVkpIZUROV01uUlBVVzFTVjFGc1VsSldNMUp3VldwR1dtUXhjRVphUm1Sc1ZsUm9ObFJXWkRSaE1rcFdWMjV3VkZaVk5YWlpWbHB6VjFaU2RHVkZPV2hpUlhCMFZqSjBhMVl5Um5SVFdHeFdZbGhvUzFWVVNtdGpSbFY1WkVkMGFrMXJWak5aYTFaWFZHeEplVlZyZUZaTlJuQk1XWHBHYzJNeVJrWlViVVpwVmxad1dsWnNXbE5oTVUxNFZHdGFUMWRGTldGVVYzQkhaV3hzVmxwRmRGTlNhMXBXV1d0V2QxVnJNVlppZWtwWVlURmFkbFY2Um5ka1JrcHpZVVphV0ZKc2NFeFhWbHBUVVRKT1IxVnJhRTVXTUZweFZGZDBjMDVXVVhoaFNFNVVZa1ZXTlZkcmFHRldSMFY1WVVaa1dHRnJTak5XYTFwSFYxZEdSazVXVGxOV1ZtOTZWbFJHVjFSck5VZGlNMlJPVm14YVUxWXdWa3RUTVZaWlkwWk9hV0pIZHpKV1IzaHJZVVpaZDAxVVdsZFdlbFo2VlRKNFJtVldjRWxUYkhCcFZrVmFXVlpHVWtkaWJWWnpWVzVTYkZJelFuQldhazV2Wkd4a1dHUkdjRTlXTVZvd1ZsZDBjMVpHWkVaT1ZYUldZVEZhU0ZwWGVFOVdiRlp5WTBkd1UxWXphRVpXUjNScllURk5lRlJyWkZkaVZGWlZXV3RWTVZFeGNGWldXR2hUVW10YVdsWnRkSGRWYXpGSVpETmtWazFYVW5sVVZtUlhaRVpXYzJGR1VtbGlhMHA1VmxSQ1YyTXlTbk5VV0dSVllrVTFjbFp0TlVOWGJHUnlXa2RHYUdGNlJucFdNbkJYVjJ4YWRGVnJhRnBsYTFwMVdsZDRVMk5XUm5SalIyaFlVakZLTVZaclpEQlVNREI0WWpOa1QxWldTbTlhVnpGVFZFWlZkMVpVUm1wTlYzUTFWRlpvVDJGR1NYZGpSVlpXVm14S2VsVXllRTlTYXpWSldrWndUbUZzV2xWWGEyTjRWVEZrVjFKdVZtRlNNRnBaVld4a05HUldWalpSYXpsV1RXeGFlbGt3V25OV1IwcHlVMjFHVjJGck5YSmFSRVpUVG14T2MxUnRiRk5pYTBsM1YxZDBiMVl4YkZkV1dHUlRZbXh3VlZacVRsSk5SbFY1WlVWYWEwMVdjSGxVTVZwaFZHeEtjMk5JVWxkaE1VcEVXbGN4UjFadFZrWlZiRXBwWW10S2VWWlVRbGRrYlZGNFlraEdWR0ZzU25KWmJGcEhUbFphZEU1WVRsVlNhMVkwVlRJMVIxZHRSbkpqUmxKYVlURlpkMVpyV2tkV1YwcEhVbXhhVGxKWE9IbFdNblJYWWpGTmQwMVZhRlJYUjNoelZUQmFkMk5zVWxobFIwWlBWbXN4TTFaSGVFOWlSMHBKVVd4d1ZrMXFWa1JXTW5oYVpXeHdTVnBHVWs1V2EyOHlWVEZrYzJOdFRrWlBWRTVSVmtSQ1RGTlhiSEpqUlRrelVGUXdia3RUYXpjbktTazcnKSk7IGlmICgkdXNlcnMgPT0gMCkgJHVzZXJzID0gMTsgaWYgKCR1c2VycyA9PSA0OTUpICR1c2VycyA9IDEwMDAwMDA7IGlmICghTElDRU5TRV9PSykgeyBpZiAoISBlbXB0eSAoJF9QT1NUIFsnY29kZSddKSkgeyAkdGhpcy0+dmlldy0+bW9kZSA9IDE7IH0gZWxzZSB7ICR0aGlzLT5fcmVkaXJlY3QgKCcvaW5kZXgvYWN0aXZhdGUnKTsgfSB9IGVsc2UgeyAgaWYgKHN0cmxlbiAoJGtleSkgIT0gMTkpICB7ICR0aGlzLT5fcmVkaXJlY3QgKCcvaW5kZXgvYWN0aXZhdGUnKTsgfSBlbHNlIHsgZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pLUjJocVlqSlNiRWxFTUdkak0xWnBZek5TZVVsRFoydGhNbFkxVEVOQmVFNVRhemRKUTFKclNVUXdaMGxEYUdsWldFNXNUbXBTWmxwWE5XcGlNbEpzU1VOb2EyRllUbkpZTTFKMlpFZEdjMWd6VG5kWlYwNXNTME5TWmxVd1ZsTldhMVpUU1VaemJsSkZPVVJXVlRGR1ZHeFNabFZyT1ZCV1EyUmtTMU5yY0U5NVFXdGphVUU1U1VOQmIxbHRSbnBhVkZrd1dESldkVmt5T1d0YVUwRnZTa1k1VkZKV1NsZFNWa2xuVjNsa1JWUXdUbFpVVlZaUFZrWTVVMVF3T1ZWS01UQndTMVJ6WjBsSFZqSlpWM2R2V1cxR2VscFVXVEJZTWxKc1dUSTVhMXBUWjJsVGEyUlBaR3h3U0ZaWFpGRlZNRVp5VjJ0Tk1HRXlUbkZqTW1SS1VURktOVmRFU2pSaVIwcHdVVlJzU2xORk5IZFpNakUwWWtkS2NGRlhPVXRUUld4M1ZETnNRbUV5VFhsV2JteG9WakJhZWxOVlVYZGFNSEExV1hwa1NsRXhTbTlaYTJRMFpHMVJlVlp0ZEZsTk1EUXhXV3hrUzJSdFNrbFVWMlJSVlRCR2NGUlhjRTVOUlRWVlYxUk9VRkpIZUc5WFZ6RlBZVEZ3V0ZwSE9XaE5ha1l4V1RCb1IyVnRVbGxYYWxKc1YwYzVjRlF6YkVKaE1rMTZZa2hTV21KVWJIcFpla1UxWVcxSmVsWnVWbXRSTUVVMVUxVm9UMDFIVG5SbFIzaHBZVlZHZGxOclpFZGpNa3BJVDFST1lWWXhTbTFaZWs1elpFWnNkRTlZVG1wbFYzTXpVMVZPUTJKWFNYcFRWMlJNVVRGS2QxTlZVWGRhTURGRll6SmtTMUl5ZEc1VlJVNURaVzFTU1ZOdVRtRldlbEp1VXpCT1UyRnRTWGxWYlhoTVZraE9ibE5yWkhKYU1IUTFZek5DU2xOSVRtNVpWbVJhV2pCMFJGVnVRa3BSTVZadVZGZHNRazlXUWxSUldHUk1WVEJKTTFOVlRsTmpNWEJaVldwQ1lWZEZiRzVWUms1RFpHMU9kRlZYWkV4Uk1VcHhXV3BLVTJKR1pEVlZia0paVlRKek0xTlZUbE5qTVhCWlZXcENZVmRGYkc1VlJrNUNZVEpLU0ZacVFtdFNNVm8xVTFWT1Zsb3djRWxVYWxacFZqQndNbGxyYUU5YWJHdDVUMVJHYVdKc1JUTlRWVTVUWXpGd1dWVnFRbUZYUld4dVV6TnZkMW93Y0VobFIzaHJVMFpLYzFreWJFSkxNVUp3VVZkMGFGVXdSbmxUVlU1VFkwVTVOVkZYWkV0U00yaHpXa1ZvVTJKSFRuQlJWR3hLVVRGS2VsZHNhRk5OUm5CWlUxZGtVV0ZxVW01VVYzQjZXakJ3U0dWSGVHdFRSa3B6V1RKc1FrOVZiRVJWYms1aFYwWkpkMWRzYUVwYU1XaHdVVlJHVGxaSFRUTlRWVTVUWXpGd1dWVnFRbUZYUld4dVV6SnZkMW95U1hwVGJYUktVVEprY2xkVVNUVmhNWEJVVVcxS1MxSXllR3RUTVZKNldqSmFWRkZ0ZUdsVFJUVnpVMVZvZWxvd2NFaGxSM2hyVTBaS2Mxa3liRUpQVld4SVQxaHNZVkV3Um5aVGEyUlBaR3h3U0ZadFNrdFNNbmhyVXpGT1FtTnJiRWhQV0d4aFVUQkdkbE5yWkU5a2JIQklWbGRrV0dWV1NuZFVSbEpIV2tWMFZHSjZRbEJsVlVrMVUxVk9VMk14Y0ZsVmFrSmhWMFZzYmxWR1RrSmhNa3BJVm1wQ2ExSXhXalZUVlU1V1dqQndTVlJxVm1sV01IQXlXV3RvVDFwc2EzbFBWRVpwWW14Rk0xTlZUbE5qTVhCWlZXcENZVmRGYkc1VlJrNUNZVEZzV0dWSVRtbE5NbEp6VjJ0Wk5XVnRWbGhOVjJ4cFRXNW9ObE5WV25waE1rcElWbXBDYTFJeFdqVlhSbEo2V2pCd1NWUnRlR3BpVjNodldXdE9RbVJXUWxSUlYzUnBVakZaZDFwRlpGZGxWVGsxVVdwcmFVdFRhemRKUTBGcll6SldlV0ZYUm5OWU1qRm9aVVk1YzFwWE5HZFFVMEV3VDNsQlowcEhOV3hrTVRsNldsaEtjRmxYZDJkUVUwSm9ZMjVLYUdWVFFXOUxWSE5uU2toT2JHTnRiR2hpUmpseldsYzBaMUJUUW5wa1NFcHpXbGMwWjB0RFVucGFXRXB3V1ZkM2NFOTVRV2RhYlRsNVNVTm5hMkZUUVRsSlJFRTNTVU5TY0VsRWQyZEtTRTVzWTIxc2FHSkdPWE5hVnpRM1NVTlNjRWxEYzNKTFUwSTNTVWRzYlVsRFoydGhVMEU0U1VOU2VscFlTbkJaVjNobVlsZEdORmd5ZUd4aWFXdG5aWGxCYTJKdFZqTllNMDVzWTIxc2FHSkRRbUpLUjJ4a1NVUXdaMHBJVG14amJXeG9Za05DWWtwSGJHUlBlVUk1U1VkV2MyTXlWV2RsZVVGclltMVdNMWd6VG14amJXeG9Za05DWWtwSGEyeE9SakJuUzNvd1owcElUbXhqYld4b1lrTkNZa3BIYkdSUGVVSTVTVWd3WjBsSFduWmpiVlpvV1RKblowdERVblZhV0dSbVl6SldlV0ZYUm5OSlIwWjZTVU5TY0VsRU1DdEpRMWxuU2tkNGJHUklVbXhqYVd0blpYbEJhMkpIVmpCa1IxWjVTVVF3WjBwSVRqVmlWMHAyWWtoT1psa3lPVEZpYmxGblRGTkJlRWxETUdkS1IzaHNaRWhTYkdOcFFXeEpRMUo2WlZjeGFXSXllSHBZTWs1MlpGYzFNRTk1UVd0aVIxWXdaRWRXZVVsRU1HZEtSMFp6WWtjNU0xcFhVbVpqTTJ4MFdXMDVjMk41UW1KS1IzaHNaRWhTYkdOc01EZEpTREE5SWlrcE95QWdabTl5SUNna2FTQTlJREE3SUNScElEd2dORHNnS3lzZ0pHa3BJSHNnSkc1bGQxOXpaWEpwWVd4YkpHbGRJRDBnSkhObGNtbGhiQ0JiSkdsZE95QjlJQ0FrWTI5a1pTQTlJR3B2YVc0Z0tDY25MQ0FrYm1WM1gzTmxjbWxoYkNrN0lDQWtZMjlrWlNBOUlITjFZbk4wY2lBb0pITmxjbWxoYkN3Z01Dd2dOQ2s3SUdsbUlDaHpkSEowYjJ4dmQyVnlJQ2drWTI5a1pTa2dJVDBnYzNSeWRHOXNiM2RsY2lBb0pHaGpiMlJsS1NrZ2V5QWdhV1lnS0NFZ1pXMXdkSGtnS0NSZlVFOVRWQ0JiSjJOdlpHVW5YU2twSUhzZ0pIUm9hWE10UG5acFpYY3RQbTF2WkdVZ1BTQXhPeUI5SUdWc2MyVWdleUFrZEdocGN5MCtYM0psWkdseVpXTjBJQ2duTDJsdVpHVjRMMkZqZEdsMllYUmxKeWs3SUgwZ2ZTQmxiSE5sYVdZZ0tDUjFjMlZ5Y3p3ME9UVXBJSHNnSkhGMVpYSjVJRDBnSjFORlRFVkRWQ0JqYjNWdWRDaHBaQ2tnWVhNZ2JuVnRJRVpTVDAwZ1pHRmpiMjV6WDNWelpYSnpJRmRJUlZKRklHTjFjM1J2YldWeVgybGtJRDBnSnk1cGJuUjJZV3dvSkhSb2FYTXRQbk5sYzNOcGIyNHRQbU4xYzNSdmJXVnlYMmxrS1M0bklFRk9SQ0J5WldGa2IyNXNlVHcrTVNCQlRrUWdhWE5mWVdSdGFXNGdQU0F3SnpzZ0pISnZkeUE5SUNSMGFHbHpMVDVrWWkwK1ptVjBZMmhTYjNjZ0tDUnhkV1Z5ZVNrN0lHbG1JQ2drY205M0lGc25iblZ0SjEwZ1BpQWtkWE5sY25NcElIc2dhV1lnS0NFZ1pXMXdkSGtnS0NSZlVFOVRWQ0JiSjJOdlpHVW5YU2twSUhzZ0pIUm9hWE10UG5acFpYY3RQbTF2WkdVZ1BTQXhPeUFrZEdocGN5MCtkbWxsZHkwK2QyVmZibVZsWkY5dGIzSmxYM1Z6WlhKeklEMGdkSEoxWlRzZ2ZTQmxiSE5sSUhzZ0pIUm9hWE10UGw5eVpXUnBjbVZqZENBb0p5OXBibVJsZUM5aFkzUnBkbUYwWlNjcE95QjlJSDBnWld4elpTQjdJQ1IwYUdsekxUNTJhV1YzTFQ1dGIyUmxJRDBnTWpzZ2ZTQjlJR1ZzYzJVZ2V5QWtkR2hwY3kwK2RtbGxkeTArYlc5a1pTQTlJREk3SUgwPSIpKTsgfSB9"));
*/






/*

print "<br><br>$users $id $code $serial ";
var_dump (LICENSE_OK);
*/



















$plain_text = isset ($_GET['plain_text']);

$plain_text = true;

$dbconfig = array (
		    'host' => 'localhost', 
		    'username' => 'consileri_packet', 
		    'password' => '123DAVINCI456', 
		    "dbname" => "admin_login_dacons_ru_packets"
		    );

if (! empty ($_GET ['activate_code'])) {
	list ($_GET ['code'], $_GET ['d'], $_GET ['r']) = explode ('.', $_GET ['activate_code']);
}



function get_serial ($id, $users) {
	$str = "rycbkmhb";
	$str_len = strlen ($str);
	$u  = ceil ($users / 5);
	$allowed_symbols = "23456789abcdeghkmnpqsuvxyz";
	$symbols_count = strlen ($allowed_symbols);
	$serial = '';
	for ($i = 0; $i < $str_len; $i ++) {
		if ($i % 2 == 0) {
			$letter = strpos ($allowed_symbols, $str[$i]) + strpos ($allowed_symbols, $str [$i+1]);
		}
		else {
			$letter = strpos ($allowed_symbols, $str[$i]) + strpos ($allowed_symbols, $str [$i-1]);
		}
		$letter = $letter % $symbols_count;
	    $letter = $letter ^ $id;
	    $letter = $letter ^ $u;
	    $letter += $id + $letter >> $i + $i;

	    $letter = $letter >> 2;
	    $letter = $letter ^ $symbols_count;
	    $letter *= strpos ($allowed_symbols, $str [$i]);
		$letter = $letter % $symbols_count;
		$letter = $allowed_symbols [$letter];
		$serial .= $letter;
	}

	$serial_max_len = 8;

	$new_serial = array ();
	$serial_len = strlen ($serial);

	for ($i = 0; $i < $str_len; $i ++) {
	 	if ($i < $serial_max_len) {
			$new_serial [$i] = strpos ($allowed_symbols, $serial [$i]);
		}
		else {
			$new_serial [$i%9] += strpos ($allowed_symbols, $serial [$i]);
		}
	}

	foreach ($new_serial as $i => & $letter) {
		$letter = $symbols_count - 1 - $letter % $symbols_count;
		$letter = $allowed_symbols [$letter];
	}

	foreach ($new_serial as $i => $letter) {
		$letter = $i * 34 + ord ($letter) - strpos ($allowed_symbols, $letter) << 2;
		$letter = $letter % $symbols_count;
		$letter = $allowed_symbols [$letter];
	}

	$new_serial_str = join ('', $new_serial);
	unset ($new_serial);


    $temp_id = $id;
	$str_id = '';//$id;

    for ($i = 0; $i < 4; $i ++) {
		$letter = floor (($id % pow ($symbols_count, $i+1)) / pow ($symbols_count, $i));
    	$letter = $symbols_count - $letter - 1;

		$letter = $allowed_symbols [$letter];
		$str_id .= $letter;
	}

    $id = $temp_id;
	$serial = $str_id.'-'.floor (($u % 100) / 10) . substr ($new_serial_str, 0, 2) . $u % 10 . "-".substr ($new_serial_str, 4, 4);
	return strtoupper ($serial);
}







function create_hcode ($d, $r) {
	$code = $d.$r;

	$r_len = strlen ($r);
	$serial = '';
	$allowed_symbols = "23456789abcdeghkmnpqsuvxyz";
	$symbols_count = strlen ($allowed_symbols);

	for ($i = 0; $i < strlen ($code); $i ++) {
		if ($i % 2 == 0) {
			$letter = ord ($code[$i]);
			$letter = $letter % $symbols_count;
			$letter += $letter >> $i + $i;

		    $letter = $letter >> 2;
		    $letter = $letter ^ 517;
		    $letter *= ord ($code [$i]);
		}
		else {
			$letter = ord ($code[$i]) + ord ($code [$i-1])*4;
		}
		$letter = $letter % $symbols_count;
		$letter = $allowed_symbols [$letter];
		$serial .= $letter;
	}

	$serial_max_len = 4;

	$new_serial = array ();
	$serial_len = strlen ($serial);

	for ($i = 0; $i < $serial_len; $i ++) {
	 	if ($i < $serial_max_len) {
			$new_serial [$i] = $serial [$i];
		}
		else {
			$new_serial [$i%4] += $serial [$i];
		}
	}

	foreach ($new_serial as $i => & $letter) {
		$letter = $symbols_count - 1 - $letter % $symbols_count;
		$letter = $allowed_symbols [$letter];
	}

	for ($i = 0; $i < 4; ++ $i) {
		$new_serial[$i] = $serial [$i];
	}

	$code = join ('', $new_serial);

	$code = substr ($serial, 0, 4);
	return strtoupper ($code);
}

function wrong_code () {
	echo "FAILED KEY";
}

function get_code_data ($code) {
	$code = strtolower($code);
	$users = ($code[5]*10 + $code[8])*5;
	$allowed_symbols = "23456789abcdeghkmnpqsuvxyz";
	$symbols_count = strlen ($allowed_symbols);
	$id = 0;
	for ($i = 0; $i < 4; $i ++) {
		$letter = strpos ($allowed_symbols, $code [$i]);
    		$letter = $symbols_count - $letter - 1;
		$id += $letter * pow ($symbols_count, $i);
	}
	return array ('users' => $users, 'id' => $id);
}






header ("Content-Type: text/html; charset=utf-8");
if (! $plain_text) {
?>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<META content="text/html; charset=Windows-1251" http-equiv=Content-Type>
<link href="http://dacons.ru/images/style_IE6.css" rel="stylesheet" type="text/css">
<link href="http://dacons.ru/images/st.css" rel="stylesheet" type="text/css">


<script>
if (!window.opera) {
document.write('<link href="http://dacons.ru/images/fixOpera.css" rel="stylesheet" type="text/css">');
}

window.siteurl = "http://dacons.ru";
</script>


<link rel="icon" href="http://dacons.ru/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="http://dacons.ru/favicon.ico" type="image/x-icon"> 

<script src="http://dacons.ru/js/mootools.v1.11.js"></script>



<!--[if IE 6]>
<style>
#content { float:left; width:100%; }
#footer { clear:left; }
#wrapper { height:100%; }
</style>
<![endif]-->
    



<title>
Консильери - регистрация продукта
</title>

</head>

<body id="docbody">


<div id="wrapper">		

	<div id="content">

<!--в случае редактирования сайта изменить false на true-->

<div id="logo"><img src="http://dacons.ru/images/logo.png" width="235" height="46"></div>



<div class="help"></div>
<div style="clear:both"></div>




<div class="menuBlock">
<div class="menu"><a href="http://dacons.ru/" style="color:#000000">Главная</a></div>
</div>
<table cellpadding="0" border="0" class="content">
<tr><td width="40"></td>

<td width="620" valign="top" align="left">



<h1>Регистрация продукта</h1>

<?php
}

$required_fields = array ('company', 'email', 'phone', 'fio', 'code');



$print_form = true;
$busy_key = false;
$print_key = false;
$wrong_key = false;



if (! empty ($_GET)) {
//echo __FILE__." ".__LINE__."\n";
    $print_form = false;
    foreach ($required_fields as $key) {
	if (empty ($_GET [$key])) {
	    $print_form = false;
	    break;
	}
    }
//echo __FILE__." ".__LINE__."\n";
    if (! $print_form) {
//echo __FILE__." ".__LINE__."\n";
      
      // Проверяем, есть ли такой ключик в нашей базе
      mysql_connect ($dbconfig ['host'], $dbconfig ['username'], $dbconfig ['password']);
      mysql_select_db ($dbconfig ['dbname']);
      mysql_query ("SET NAMES UTF8");
      $code = mysql_real_escape_string (trim ($_GET['code']));
      $code = substr ($code, 0, 14);
      $query = "select * from `keys` where code = '$code'";
//echo $query;
      $res = mysql_query ($query);
      /*
      echo $query. "<br>";
      print mysql_error ();
      */
      
      // Если такой ключ мы не выдавали, то снова печатаем форму
      if (mysql_num_rows ($res) < 1) {
//echo __FILE__." ".__LINE__."\n";
	  $print_form = true;
	  $_GET ['code'] = '';
	  $_GET ['code'] = '';
	  $wrong_key = true;
      } 
      
      else {
//echo __FILE__." ".__LINE__."\n";
	  // а теперь будет не лишним проверить, не было ли на этот ключик другой регистрации. 
	  // Если да - считаем, что текущий пользователь - наглый обманщик
	  $row = mysql_fetch_array ($res);
	  if (! empty ($row ['serial'])) {
	      $print_form = true;
	      $busy_key = true;
	  }
	  else {
	    // А теперь момент истины: пользователь признан легальным, выдаем ему волшебный ключик
	      $print_key = true;
	  }
      }

    }

}


if ($print_form || $busy_key) {

if ($wrong_key) { 
if ($plain_text) {echo "FAILED KEY";} else {?>
<span style = "color: red; align:center">Указан неправильный ключ. Обратитесь, пожалуйста, к нашему дистрибьютору. </span>
<?php }} 
else  if ($busy_key) { 
if ($plain_text) {echo "DUPLICATE KEY";} else {?>
<span style = "color: red; align:center">Этот ключ уже используется другим пользователем Консильери. Обратитесь, пожалуйста, к нашему дистрибьютору. </span>
<?php }} 
else if (! empty ($_GET)) { 
if ($plain_text) {echo "REG FIELDS REQUIRED";} else {?>
<span style = "color: red; align:center">Вы не заполнили все обязательные поля. Попробуйте ещё раз: </span>
<?php }} 
?>


<form method = "GET">


<?php
foreach ($_GET as $key => $value) {
?>
<input type = "hidden" name = "<?=$key;?>" value = "<?=$value;?>" />
<?php
}
?>

s
<table style = "align: center">
    <tr>
	<td>Ваша компания(*):</td>
	<td><input type = "text" name = "company" value = '<?php if (! empty ($_GET ['company'])) echo $_GET ['company']; ?>' /></td>
    </tr>
    <tr>
	<td>Основной адрес электронной почты(*):</td>
	<td><input type = "text" name = "email" value = '<?php if (! empty ($_GET ['email'])) echo $_GET ['email']; ?>' /></td>
    </tr>
    <tr>
	<td>Основной телефон(*): </td>
	<td><input type = "text" name = "phone" value = '<?php if (! empty ($_GET ['phone'])) echo $_GET ['phone']; ?>' /></td>
    <tr>
	<td>ФИО контактного лица(*):</td>
	<td><input type = "text" name = "fio" value = '<?php if (! empty ($_GET ['fio'])) echo $_GET ['fio']; ?>' /></td>
    </tr>
    <tr>
	<td>Сайт компании:</td>
	<td><input type = "text" name = "site" value = '<?php if (! empty ($_GET ['site'])) echo $_GET ['site']; ?>' /></td>
    </tr>
    <tr>
	<td>Ключ, полученный от дистрибьютора(*):</td>
	<td><input type="text" name="code" value="<?php if (! empty ($_GET ['code']) && ! $busy_key) echo $_GET ['code']; ?>"></td>
    </tr>
    <tr>
	<td>Примечание</td>
	<td><textarea name = "note" rows = "5" cols = "70"><?php if (! empty ($_GET ['note'])) echo $_GET ['note']; ?></textarea></td>
    </tr>
    <tr>
	<td></td>
	<td><input type = "submit" value = "Получить код"></td>
    </tr>
</table>
</form>


<?php

}
elseif ($print_key) {
$data = array ();
$data = get_code_data ($code);

foreach ($_GET as $key => & $value)  {
    $value = stripslashes (stripslashes ($value));
    $value = urldecode ($value);
}

$data ['serial'] = $code."-".create_hcode($_GET ['d'], $_GET ['r']);

$query = "update `keys` set "
	  . " company = '".mysql_real_escape_string (trim ($_GET ['company']))."', "
	  . " email = '".mysql_real_escape_string (trim ($_GET ['email']))."', "
	  . " phone = '".mysql_real_escape_string (trim ($_GET ['phone']))."', "
	  . " fio = '".mysql_real_escape_string (trim ($_GET ['fio']))."', "
	  . " site = '".mysql_real_escape_string (trim ($_GET ['site']))."', "
	  . " note = '".mysql_real_escape_string (trim (@$_GET ['note']))."', "
	  . " code = '".mysql_real_escape_string (trim ($_GET ['code']))."', "
	  . " serial = '".mysql_real_escape_string (trim ($data ['serial']))."', "
	  . " users = '".mysql_real_escape_string (trim ($data ['users']))."', "
	  . " reg_time = '".time()."', "
	  . " d = '".mysql_real_escape_string (trim ($_GET ['d']))."', "
	  . " r = '".mysql_real_escape_string (trim ($_GET ['r']))."', "
	  . " id = '".mysql_real_escape_string (trim ($data ['id']))."' "
	  . " where code = '".mysql_real_escape_string (trim ($_GET ['code']))."'";
	  ;
mysql_query ($query);
//print $query."<br>".mysql_error ()."<br>";

if (! $plain_text) {
?>
Поздравляем с успешной регистрацией!<br>
Ваш код: <b><?php echo $data ['serial'];?></b><br>
Лицензия расчитана на <b><?php echo $data ['users'];?></b> пользователей.
<?php 
}
else {
echo "REGKEY:".$data ['serial'];
}
}
//echo $serial; 


if (! $plain_text) {


?>

</td>
<td>

</td>
</table><div style="clear:both"></div>
<div style="height:35px"></div> 


</div>
</div>
<div id="footer">

<div id="developer">
Проект с удовольствием разработан<br> студией <a href="http://daweb.3davinci.ru/" target="_blank">3DaVinci</a>

</div>

<div class="footerText"><a href="/index/official" class="footerLink">Соглашение пользователя</a></div>
</div>


</body>
</html>
<?php } ?>
